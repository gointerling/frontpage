import{_ as z}from"./Dc7OhhpS.js";import{X as C,Y as D,N as i,O as B,T as u,c as M,r as d,a6 as h,a as e,b as s,w as N,t as f,d as _,y as F,J as P,z as V,E as U,a7 as $,o as v}from"./BOxkNff_.js";import{S as A}from"./DOY2xbnL.js";import{P as E}from"./B-sv3TP-.js";import{u as I}from"./BvKoh7Nj.js";import"./DMpIMJj3.js";const L={class:"flex"},O={class:"flex flex-col w-full bg-slate-100"},R={class:"p-6 w-full flex justify-between"},j={class:"flex gap-3 items-center"},J={class:"font-semibold"},X={class:"mx-2"},Y={class:"absolute right-0 z-10 mt-10 w-48 py-1 bg-white rounded-lg shadow-lg"},q={href:"#",class:"flex gap-2 align-middle items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},G={class:"w-full"},ae={__name:"merchant",setup(H){const{getMyMerchants:p}=I(),g=C(),m=D(),r=i(!0),o=i({fullname:"",photo:""}),a=i(!1),l=i(!1),x=()=>{a.value=!a.value,localStorage.setItem("sidenav-closed",a.value)};g.params.id;const b=[{label:"Dashboard",icon:"i-heroicons-home",to:"/my/dashboard"},{label:"Transactions",icon:"i-heroicons-chart-bar",to:"/my/transactions"},{label:"Merchants",icon:"i-heroicons-building-storefront",to:"/merchant/merchants"}],w=async()=>{try{o.value=u("token").value.user||null}catch(t){console.error("Fetching user failed:",t)}finally{r.value=!1}},y=()=>{const t=u("token");t.value=null,l.value=!1,m.push("/auth/login")},S=async()=>{const{data:t}=await p();t.data.user.merchants[0].is_first_time===1&&m.push("/my/merchant/onboarding")};return B(async()=>{a.value=localStorage.getItem("sidenav-closed")==="true",await S(),u("token").value&&await w(),window.scrollTo({top:0,behavior:"smooth"})}),(t,c)=>{const n=z,k=U,T=$;return v(),M("div",null,[d(e("div",L,[s(A,{navs:b,isSmallSize:a.value},null,8,["isSmallSize"]),e("div",O,[e("nav",R,[e("div",j,[s(k,{class:"p-2 bg-gray-300",onClick:x},{default:N(()=>[s(n,{name:"sidebar",class:"text-white"})]),_:1}),e("span",J,f(t.menuTitle||"Admin Dashboard"),1)]),e("button",{onClick:c[0]||(c[0]=K=>l.value=!l.value),class:"flex items-center align-middle text-sm font-medium text-gray-900 rounded-full focus:outline-none focus:shadow-outline"},[s(T,{alt:o.value.fullname??"",src:o.value.photo,size:"sm"},null,8,["alt","src"]),e("span",X,f(o.value.fullname??""),1),s(n,{name:"chevron-simple-down",class:"mx-4",filled:""})]),d(e("div",Y,[e("a",q,[s(n,{name:"user-circle",class:"text-2xl"}),_(" Profile ")]),e("button",{class:"w-full flex gap-2 align-middle items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",href:"#",onClick:y},[s(n,{name:"logout",class:"text-2xl"}),_(" Sign out ")])],512),[[h,l.value]])]),e("div",G,[F(t.$slots,"default")])])],512),[[h,!r.value]]),r.value?(v(),P(E,{key:0})):V("",!0)])}}};export{ae as default};
