import{_ as S}from"./Dc7OhhpS.js";import{X as k,Y as z,N as i,O as C,T as r,c as D,r as d,a6 as m,a as e,b as s,w as B,t as f,d as _,y as M,J as N,z as T,E as P,a7 as V,o as h}from"./BOxkNff_.js";import{S as U}from"./DOY2xbnL.js";import{P as $}from"./B-sv3TP-.js";import"./DMpIMJj3.js";const A={class:"flex"},E={class:"flex flex-col w-full bg-slate-100"},I={class:"p-6 w-full flex justify-between"},L={class:"flex gap-3 items-center"},O={class:"font-semibold"},R={class:"mx-2"},j={class:"absolute right-0 z-10 mt-10 w-48 py-1 bg-white rounded-lg shadow-lg"},F={href:"#",class:"flex gap-2 align-middle items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},J={class:"w-full"},W={__name:"admin",setup(X){k();const v=z(),c=i(!0),o=i({fullname:"",photo:""}),a=i(!1),l=i(!1),p=()=>{a.value=!a.value,localStorage.setItem("sidenav-closed",a.value)},g=[{label:"Dashboard",icon:"i-heroicons-home",to:"/admin/dashboard",isMultiple:!1},{label:"Transactions",icon:"i-heroicons-chart-bar",to:"/admin/transactions",isMultiple:!1},{label:"Merchants",icon:"i-heroicons-building-storefront",to:"/admin/merchants",isMultiple:!1}],x=async()=>{try{o.value=r("token").value.user||null}catch(t){console.error("Fetching user failed:",t)}},b=()=>{const t=r("token");t.value=null,l.value=!1,v.push("/auth/login")};return C(async()=>{a.value=localStorage.getItem("sidenav-closed")==="true",r("token").value&&await x(),c.value=!1,window.scrollTo({top:0,behavior:"smooth"})}),(t,u)=>{const n=S,w=P,y=V;return h(),D("div",null,[d(e("div",A,[s(U,{navs:g,isSmallSize:a.value},null,8,["isSmallSize"]),e("div",E,[e("nav",I,[e("div",L,[s(w,{class:"p-2 bg-gray-300",onClick:p},{default:B(()=>[s(n,{name:"sidebar",class:"text-white"})]),_:1}),e("span",O,f(t.menuTitle||"Admin Dashboard"),1)]),e("button",{onClick:u[0]||(u[0]=Y=>l.value=!l.value),class:"flex items-center align-middle text-sm font-medium text-gray-900 rounded-full focus:outline-none focus:shadow-outline"},[s(y,{alt:o.value.fullname??"",src:o.value.photo,size:"sm"},null,8,["alt","src"]),e("span",R,f(o.value.fullname??""),1),s(n,{name:"chevron-simple-down",class:"mx-4",filled:""})]),d(e("div",j,[e("a",F,[s(n,{name:"user-circle",class:"text-2xl"}),_(" Profile ")]),e("button",{class:"w-full flex gap-2 align-middle items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",href:"#",onClick:b},[s(n,{name:"logout",class:"text-2xl"}),_(" Sign out ")])],512),[[m,l.value]])]),e("div",J,[M(t.$slots,"default")])])],512),[[m,!c.value]]),c.value?(h(),N($,{key:0})):T("",!0)])}}};export{W as default};
