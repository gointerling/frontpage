import{g as N,r,h as C,i as L,c as p,b as t,w as s,j as n,k as j,o as m,d as k,a as i,t as G,E as F,s as I}from"./CxjFn7M3.js";import{_ as $}from"./Bn65NKoM.js";import{_ as M}from"./D7_MadFF.js";import{_ as D}from"./CBDtuzQM.js";import{_ as O}from"./B9cukRyl.js";import{_ as T}from"./CBbHF3uc.js";import{_ as q}from"./DiZvljQl.js";import{u as z}from"./D1ISG42r.js";import"./6BuZ5vSY.js";import"./BPbhp0Vf.js";import"./KcFyupa-.js";import"./BL-YGieY.js";import"./BUT2tR4b.js";import"./DgJydUKu.js";import"./CkOxMU80.js";const H={key:0,class:"text-gray-500 flex justify-center items-center h-full gap-2"},P={key:1,class:"w-full pt-0 p-6 flex flex-col gap-2"},Q={class:"flex gap-2"},R={class:"flex gap-4"},Y=["src"],J={class:"flex gap-2 flex-col"},K=i("hr",{class:"my-2"},null,-1),W="Settings",_e={__name:"settings",setup(X){const{getSetting:y,updateSetting:v}=z(),_=N(),g=r(!0),u=r(!1),h=r(!1),x=r({title:"",message:"",callback:null}),f=[{id:"bca",name:"BCA"},{id:"bni",name:"BNI"},{id:"bri",name:"BRI"},{id:"mandiri",name:"Mandiri"}],e=r({title:"",logo:"https://dev-api.gointerling.com/storage/uploads/oEwc2avbfrCEn3Gb4CSaytNjGcul3UGqHxES7wrA.svg",bank:"",bank_account:"",bank_account_name:""}),S=a=>{e.value.logo=a};C(()=>e.value,()=>{e.value.logo===""&&(e.value.logo="https://dev-api.gointerling.com/storage/uploads/oEwc2avbfrCEn3Gb4CSaytNjGcul3UGqHxES7wrA.svg")},{deep:!0});const V=async()=>{try{const{data:a}=await y();e.value=a.data.setting,e.value.bank=f.find(o=>o.id===a.data.setting.bank)}catch(a){console.error("Error fetching merchant orders:",a)}finally{g.value=!1}},w=async()=>{u.value=!0;try{const a={title:e.value.title,logo:e.value.logo,bank:e.value.bank.id,bank_account:`${e.value.bank_account}`,bank_account_name:e.value.bank_account_name},{data:o}=await v(a);_.add({title:"Success!",color:"green",icon:"i-heroicons-check-circle",description:"Setting updated successfully!"})}catch(a){console.error("Error updating setting:",a),_.add({title:"Error",color:"red",description:"Failed to update setting.",type:"error"})}finally{u.value=!1}};return L(()=>{V()}),(a,o)=>{const U=F,d=$,b=M,c=D,B=O,A=I,E=j;return m(),p("div",null,[t(E,{name:"admin"},{default:s(()=>[n(g)?(m(),p("div",H,[t(U,{name:"i-ph-rocket-launch",dynamic:"",class:"text-xl text-gray-600"}),k(" Loading Setting... ")])):(m(),p("div",P,[t(b,{ui:{body:{base:"flex justify-between items-center",background:"",padding:"p-2 sm:p-4"}}},{default:s(()=>[i("h6",{class:"font-semibold"},G(W)),i("div",Q,[t(d,{icon:"i-heroicons-magnifying-glass-20-solid",size:"sm",color:"white",trailing:!1,placeholder:"Search Settings",modelValue:a.searchQuery,"onUpdate:modelValue":o[0]||(o[0]=l=>a.searchQuery=l)},null,8,["modelValue"])])]),_:1}),t(b,{ui:{body:{base:"flex justify-between items-center",background:"",padding:"p-2 sm:p-6"}}},{default:s(()=>[i("div",R,[i("img",{src:n(e).logo,class:"w-24 h-24 object-cover rounded-lg border border-primary p-2"},null,8,Y),i("div",J,[t(c,{label:"Apps Name"},{default:s(()=>[t(d,{placeholder:"Your Apps Name",modelValue:n(e).title,"onUpdate:modelValue":o[1]||(o[1]=l=>n(e).title=l)},null,8,["modelValue"])]),_:1}),t(c,{label:"Logo"},{default:s(()=>[t(T,{title:"Logo",accept:"image/*","max-size":"6291456",onFileUploaded:S})]),_:1}),t(c,{label:"Bank"},{default:s(()=>[t(B,{modelValue:n(e).bank,"onUpdate:modelValue":o[2]||(o[2]=l=>n(e).bank=l),options:f,placeholder:"Fill Provider",by:"id","option-attribute":"name","search-attributes":["name"]},null,8,["modelValue"])]),_:1}),t(c,{label:"Bank Account"},{default:s(()=>[t(d,{placeholder:"Fill Bank Account",type:"text",modelValue:n(e).bank_account,"onUpdate:modelValue":o[3]||(o[3]=l=>n(e).bank_account=l)},null,8,["modelValue"])]),_:1}),t(c,{label:"Bank Account Name"},{default:s(()=>[t(d,{placeholder:"Fill Bank Account Name",modelValue:n(e).bank_account_name,"onUpdate:modelValue":o[4]||(o[4]=l=>n(e).bank_account_name=l)},null,8,["modelValue"])]),_:1}),K,t(A,{color:"primary",onClick:w,block:"",loading:n(u)},{default:s(()=>[k(" Save ")]),_:1},8,["loading"])])])]),_:1})]))]),_:1}),t(q,{isOpen:n(h),data:n(x)},null,8,["isOpen","data"])])}}};export{_e as default};
