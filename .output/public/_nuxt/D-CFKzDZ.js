import{_ as C}from"./vIeE2Lqx.js";import{x as z,V as B,r,i as D,B as u,c as T,Y as g,a2 as h,a as e,b as t,w as V,t as p,d as m,S as $,l as A,q as N,s as P,v as U,o as x}from"./BryKqlfZ.js";import{S as j}from"./XYrhl0d6.js";import{P as F}from"./SJIH6tYV.js";import"./BFXRxRsm.js";const I={class:"flex"},L={class:"flex flex-col w-full bg-slate-100"},R={class:"p-6 w-full flex justify-between"},q={class:"flex gap-3 items-center"},E={class:"font-semibold"},H={class:"mx-2"},M={class:"absolute right-0 z-10 mt-10 w-48 py-1 bg-white rounded-lg shadow-lg"},O={class:"w-full h-full"},X={__name:"admin",setup(Y){z();const d=B(),c=r(!0),n=r({fullname:"",photo:""}),a=r(!1),i=r(!1),_=()=>{a.value=!a.value,localStorage.setItem("sidenav-closed",a.value)},b=[{label:"Dashboard",icon:"i-heroicons-home",to:"/admin/dashboard"},{label:"Transactions",icon:"i-heroicons-chart-bar",to:"/admin/transactions"},{label:"Facilitator",icon:"i-heroicons-building-storefront",to:"/admin/merchants"},{label:"Users",icon:"i-heroicons-users",to:"/admin/users"},{label:"Ads",icon:"i-heroicons-megaphone",to:"/admin/ads"}],w=async()=>{try{n.value=u("token").value.user||null}catch(s){console.error("Fetching user failed:",s)}},y=()=>{const s=u("token");s.value=null,i.value=!1,d.push("/auth/login")},f=s=>{d.push(s)};return D(async()=>{a.value=localStorage.getItem("sidenav-closed")==="true",u("token").value&&await w(),c.value=!1,window.scrollTo({top:0,behavior:"smooth"})}),(s,o)=>{const l=C,S=P,k=U;return x(),T("div",null,[g(e("div",I,[t(j,{navs:b,isSmallSize:a.value,title:"Admin"},null,8,["isSmallSize"]),e("div",L,[e("nav",R,[e("div",q,[t(S,{class:"p-2 bg-gray-300",onClick:_},{default:V(()=>[t(l,{name:"sidebar",class:"text-white"})]),_:1}),e("span",E,p(s.menuTitle||"Admin Dashboard"),1)]),e("button",{onClick:o[0]||(o[0]=v=>i.value=!i.value),class:"flex items-center align-middle text-sm font-medium text-gray-900 rounded-full focus:outline-none focus:shadow-outline"},[t(k,{alt:n.value.fullname??"",src:n.value.photo,size:"sm",imgClass:"object-cover"},null,8,["alt","src"]),e("span",H,p(n.value.fullname??""),1),t(l,{name:"chevron-simple-down",class:"mx-4",filled:""})]),g(e("div",M,[e("button",{class:"w-full flex gap-2 align-middle items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:o[1]||(o[1]=v=>f({name:"profile"}))},[t(l,{name:"user-circle",class:"text-2xl"}),m(" Profile ")]),e("button",{class:"w-full flex gap-2 align-middle items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:o[2]||(o[2]=v=>f({name:"index"}))},[t(l,{name:"home",class:"text-2xl"}),m(" Home ")]),e("button",{class:"w-full flex gap-2 align-middle items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",href:"#",onClick:y},[t(l,{name:"logout",class:"text-2xl"}),m(" Sign out ")])],512),[[h,i.value]])]),e("div",O,[$(s.$slots,"default")])])],512),[[h,!c.value]]),c.value?(x(),A(F,{key:0})):N("",!0)])}}};export{X as default};
