import{_ as w}from"./BgX1AO3M.js";import{_ as S}from"./BBay9uw3.js";import{_ as C}from"./DLO4McNJ.js";import{h as M,r as e,i as I,j as N,c as O,b as n,w as h,g as U,o as D,a as d,t as T,k as A}from"./REdEvUJb.js";import{_ as B}from"./IgueCRI9.js";import{u as F}from"./78fi8YQO.js";import"./C32kP1Pp.js";import"./CUfm5Dse.js";import"./GFnWuFuM.js";import"./DjxiS0Sv.js";import"./BlXo71Yc.js";const j={class:"w-full pt-0 p-6 flex flex-col gap-2"},E={class:"flex gap-2"},J="Dashboard",aa={__name:"dashboard",setup($){const{getMerchants:v,updateMerchantStatus:z}=F();M();const b=e(!1),k=e({title:"",message:"",callback:null}),x=e([]),o=e({label:"All",value:"all"}),s=e(""),i=e(1),_=e({page:1,totalPage:1,totalItems:0,itemsPerPage:10}),y=[[{key:"completed",label:"Completed",icon:"i-heroicons-check",callback:()=>{console.log("completed")}}],[{key:"uncompleted",label:"In Progress",icon:"i-heroicons-arrow-path",callback:()=>{console.log("uncompleted")}}]],r=async()=>{try{await v({page:i.value,per_page:_.value.itemsPerPage,status:o.value.value==="all"?"":o.value.value,search:s.value}).then(t=>{x.value=t.data.data.data.map(a=>({user:{id:a.id,fullname:a.fullname,email:a.email},phone:a.phone,type:a.merchants[0].type,bank:{bank:a.merchants[0].bank,bankAccount:a.merchants[0].bank_account},CV:a.merchants[0].cv_url,portfolio:JSON.parse(a.merchants[0].portfolios),certificate:JSON.parse(a.merchants[0].certificates),status:a.merchants[0].status,actions:y})),_.value={page:t.data.data.current_page,totalPage:t.data.data.last_page,totalItems:t.data.data.total,itemsPerPage:t.data.data.per_page}})}catch(t){console.error("Error fetching facilitators:",t)}};I(i,r);const f=()=>{r(i.value,o.value.value,s.value)},P=V(()=>{f()},500);function V(t,a,g){let l;return function(){const u=this,m=arguments,p=function(){l=null,t.apply(u,m)};clearTimeout(l),l=setTimeout(p,a)}}return N(()=>{r()}),(t,a)=>{const g=w,l=S,u=C,m=U,p=B;return D(),O("div",null,[n(m,{name:"merchant"},{default:h(()=>[d("div",j,[n(u,{ui:{body:{base:"flex justify-between items-center",background:"",padding:"p-2 sm:p-4"}}},{default:h(()=>[d("h6",{class:"font-semibold"},T(J)),d("div",E,[n(g,{options:[{label:"All",value:"all",color:"gray"},{label:"Verified",value:"verified",color:"blue"},{label:"Pending",value:"pending",color:"orange"}],modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=c=>o.value=c),placeholder:"Pilih Status",by:"value","option-attribute":"label","search-attributes":["label"],onChange:f,class:"max-w-[180px]"},null,8,["modelValue"]),n(l,{icon:"i-heroicons-magnifying-glass-20-solid",size:"sm",color:"white",trailing:!1,placeholder:"Search Facilitator",modelValue:s.value,"onUpdate:modelValue":a[1]||(a[1]=c=>s.value=c),onInput:a[2]||(a[2]=c=>A(P)())},null,8,["modelValue"])])]),_:1})])]),_:1}),n(p,{isOpen:b.value,data:k.value},null,8,["isOpen","data"])])}}};export{aa as default};
