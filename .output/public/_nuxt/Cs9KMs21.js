import{z as ne,r as m,i as le,c as d,b as a,w as n,j as o,k as ie,o as i,d as g,a as e,F as j,x as S,m as U,t as b,l as z,A as H,B as h,C as A,D as ce,n as J,v as re,E as de,s as ue}from"./BVzKRVIE.js";import{_ as me}from"./Cb_JfWas.js";import{_ as pe}from"./GVzqrMnS.js";import{_ as fe}from"./CA6O1nGA.js";import{_ as _e}from"./DRx7Erkn.js";import{_ as ge}from"./fNRERoDk.js";import{_ as be}from"./DVriMi0n.js";import"./CKTSyqwc.js";import"./C_Ny2jYT.js";import"./B4t4lB56.js";import"./DW15tmjH.js";const ke=()=>{const{$axios:p}=ne();return{getAdsPackages(){return p.get("/advertisement-packages")},getAdsPackageDetail(c){return p.get(`/packages/${c}`)},createAdsPackage(c){return p.post("/advertisement-packages",c)},updateAdsPackage(c,C){return p.put(`/advertisement-packages/${c}`,C)},deleteAdsPackage(c){return p.delete(`/advertisement-packages/${c}`)},getSubsPackages(){return p.get("/subscriptions-packages")},getSubsPackageDetail(c){return p.get(`/subscriptions-packages/${c}`)},createSubsPackage(c){return p.post("/subscriptions-packages",c)},updateSubsPackage(c,C){return p.put(`/subscriptions-packages/${c}`,C)},deleteSubsPackage(c){return p.delete(`/subscriptions-packages/${c}`)}}},xe={key:0,class:"text-gray-500 flex justify-center items-center h-full gap-2"},ve={key:1,class:"w-full pt-0 p-6 flex flex-col gap-2"},he={class:"grid grid-cols-2 gap-2"},ye={class:"flex flex-col gap-2"},we={class:"flex justify-between w-full"},Pe={class:"font-semibold flex gap-1 items-center"},je={class:"flex justify-end"},Se={class:"flex flex-col gap-4 w-full"},Ae={class:"flex flex-col w-full"},Ce={class:"flex justify-between w-full items-center"},Ve={class:"font-semibold text-xl flex items-center gap-1"},De={class:"flex gap-1"},$e={class:"font-semibold text-accent"},Ne={class:"py-4"},Ue={class:"flex flex-col gap-2"},Me={class:"flex justify-between w-full"},Fe={class:"font-semibold flex gap-1 items-center"},Be={class:"flex justify-end"},Oe={class:"flex flex-col gap-4 w-full"},Re={class:"flex flex-col w-full"},Le={class:"flex justify-between w-full items-center"},Ie={class:"font-semibold text-xl flex items-center gap-1"},Te={class:"flex gap-1"},Ee={class:"font-semibold text-accent"},ze=e("span",{class:"font-semibold"}," Halaman : ",-1),He={class:"pb-4"},Je={class:"flex justify-between items-center"},qe=e("h6",{class:"font-semibold"},"Edit Package",-1),Ge={class:"p-2"},Ke={class:"flex flex-col gap-4"},Qe=e("label",{for:"name",class:"block text-sm font-medium text-gray-700"}," Package Name ",-1),We=e("label",{for:"duration",class:"block text-sm font-medium text-gray-700"}," Package Duration (Month) ",-1),Xe=e("label",{for:"price",class:"block text-sm font-medium text-gray-700"}," Package Price ",-1),Ye={class:"mt-4 flex justify-end"},Ze={class:"flex justify-between items-center"},et=e("h6",{class:"font-semibold"},"Add New Package",-1),tt={class:"p-2"},st={class:"flex flex-col gap-4"},at=e("label",{for:"newName",class:"block text-sm font-medium text-gray-700"}," Package Name ",-1),ot=e("label",{for:"newDuration",class:"block text-sm font-medium text-gray-700"}," Package Duration (Month) ",-1),nt=e("label",{for:"newPrice",class:"block text-sm font-medium text-gray-700"}," Package Price ",-1),lt={key:0},it=e("label",{for:"newPrice",class:"block text-sm font-medium text-gray-700"}," Package Rule ",-1),ct={class:"flex flex-col gap-2"},rt=["value"],dt={class:"ml-2 text-gray-700"},ut={key:1},mt=e("label",{for:"newRoute",class:"block text-sm font-medium text-gray-700"}," Package Route ",-1),pt={key:0,class:"flex flex-wrap gap-2"},ft={class:"text-sm"},_t={key:1,class:"text-gray-400"},gt={class:"mt-4 flex justify-end"},Dt={__name:"packages",setup(p){const{getSubsPackages:c,updateSubsPackage:C,createSubsPackage:q,deleteSubsPackage:bt,getAdsPackages:G,createAdsPackage:K,updateAdsPackage:Q,deleteAdsPackage:kt}=ke(),y=m(!0),W=m(!1),w=m(!1),P=m(!1),X=m({}),M=m("subs"),F=m([]),B=m([]),O=m([{name:"Homepage",route:"/"},{name:"Packages",route:"/packages"},{name:"Facilitator",route:"/facilitators"}]),Y=m([{id:1,name:"Can open a stall on the website according to the tang package they choose",value:{is_stall:!0}},{id:2,name:"Online lias life shop",value:{is_online_shop:!0}},{id:3,name:"Reviews appear",value:{is_reviewed:!0}},{id:4,name:"Advertised (the shop appears at the top or most recommended)",value:{is_advertised:!0}},{id:5,name:"Free Shipping",value:{is_free_shipped:!0}}]),u=m({}),r=m({}),Z=l=>l.match(/"([^"]+)"/g).map(s=>s.replace(/"/g,"")),R=l=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(l),V=async()=>{y.value=!0;const{data:l}=await c();F.value=l.data.packages.map(s=>({name:s.name,desc:Z(s.desc),duration:s.duration,price:s.price})),y.value=!1},D=async()=>{y.value=!0;const{data:l}=await G();console.log(l),B.value=l.data.packages.map(s=>({name:s.name,route_json:JSON.parse(s.route_json),duration:s.duration,price:s.price})),y.value=!1},L=l=>l>1?l+" Months":l+" Month",I=l=>{u.value={...l},w.value=!0},T=l=>{r.value={type:l},P.value=!0,l==="subs"?r.value.rule_json=[]:r.value.route_json=[]},ee=async()=>{console.log("Form submitted with:",u.value),u.value.type==="subs"?await C(u.value):await Q(u.value),w.value=!1,V(),D()},te=async()=>{console.log("New Package Data submitted with:",r.value),r.value.type==="subs"?await q(r.value):await K(r.value),P.value=!1,V(),D()};return le(()=>{y.value=!1,V(),D()}),(l,s)=>{const f=de,_=ue,k=me,$=pe,E=fe,se=_e,ae=ge,oe=ie;return i(),d("div",null,[a(oe,{name:"admin"},{default:n(()=>[o(y)?(i(),d("div",xe,[a(f,{name:"i-ph-rocket-launch",dynamic:"",class:"text-xl text-gray-600"}),g(" Loading Setting... ")])):(i(),d("div",ve,[e("div",he,[e("div",ye,[a(k,{ui:{base:"w-full",body:{base:"flex justify-between items-center",background:"",padding:"p-2 sm:p-4"}}},{default:n(()=>[e("div",we,[e("h6",Pe,[a(f,{name:"i-heroicons-sparkles"}),g(" Subscription Packages ")]),e("div",je,[a(_,{variant:"soft",color:"blue",onClick:s[0]||(s[0]=t=>T("subs"))},{default:n(()=>[a(f,{name:"i-heroicons-plus-circle"}),g(" Add New Package ")]),_:1})])])]),_:1}),a(k,{ui:{body:{base:"flex justify-between items-center",background:"",padding:"p-2 sm:p-6"}}},{default:n(()=>[e("div",Se,[(i(!0),d(j,null,S(o(F),(t,x)=>(i(),U(k,{key:x,ui:{body:{base:"w-full flex justify-between items-center flex-grow",background:"",padding:"p-2 sm:p-4"}}},{default:n(()=>[e("div",Ae,[e("div",Ce,[e("h6",Ve,[a(f,{name:"i-heroicons-bolt"}),g(" "+b(t.name)+" ("+b(L(t.duration))+") ",1)]),e("div",De,[a(_,{variant:"soft",color:"blue",onClick:v=>I(t)},{default:n(()=>[a($,{name:"edit"})]),_:2},1032,["onClick"]),a(_,{variant:"soft",color:"red",onClick:v=>l.showConfirmation(t)},{default:n(()=>[a(f,{name:"i-heroicons-trash"})]),_:2},1032,["onClick"])])]),e("span",$e,b(R(t.price)),1),e("ol",Ne,[(i(!0),d(j,null,S(t.desc,(v,N)=>(i(),d("li",{key:N,class:"flex gap-2 items-start"},[a($,{name:"check-package",class:"pt-1"}),g(" "+b(v),1)]))),128))])])]),_:2},1024))),128))])]),_:1})]),e("div",Ue,[a(k,{ui:{base:"w-full",body:{base:"flex justify-between items-center",background:"",padding:"p-2 sm:p-4"}}},{default:n(()=>[e("div",Me,[e("h6",Fe,[a(f,{name:"i-heroicons-megaphone"}),g(" Ads Packages ")]),e("div",Be,[a(_,{variant:"soft",color:"blue",onClick:s[1]||(s[1]=t=>T("ads"))},{default:n(()=>[a(f,{name:"i-heroicons-plus-circle"}),g(" Add New Package ")]),_:1})])])]),_:1}),a(k,{ui:{body:{base:"flex justify-between items-center",background:"",padding:"p-2 sm:p-6"}}},{default:n(()=>[e("div",Oe,[(i(!0),d(j,null,S(o(B),(t,x)=>(i(),U(k,{key:x,ui:{body:{base:"w-full flex justify-between items-center flex-grow",background:"",padding:"p-2 sm:p-4"}}},{default:n(()=>[e("div",Re,[e("div",Le,[e("h6",Ie,[a(f,{name:"i-heroicons-bolt"}),g(" "+b(t.name)+" ("+b(L(t.duration))+") ",1)]),e("div",Te,[a(_,{variant:"soft",color:"blue",onClick:v=>I(t)},{default:n(()=>[a($,{name:"edit"})]),_:2},1032,["onClick"]),a(_,{variant:"soft",color:"red",onClick:v=>l.showConfirmation(t)},{default:n(()=>[a(f,{name:"i-heroicons-trash"})]),_:2},1032,["onClick"])])]),e("span",Ee,b(R(t.price)),1),ze,e("ol",He,[(i(!0),d(j,null,S(t.route_json,(v,N)=>(i(),d("li",{key:N,class:"flex gap-2 items-center"},[a(f,{name:"i-heroicons-globe-alt",class:"pt-1"}),g(" "+b(v.name),1)]))),128))])])]),_:2},1024))),128))])]),_:1})])]),a(E,{modelValue:o(w),"onUpdate:modelValue":s[6]||(s[6]=t=>z(w)?w.value=t:null)},{default:n(()=>[a(k,null,{default:n(()=>[e("div",Je,[qe,a(_,{variant:"soft",color:"red",icon:"i-heroicons-x-circle",onClick:s[2]||(s[2]=t=>w.value=!1)})]),e("div",Ge,[e("form",{onSubmit:H(ee,["prevent"])},[e("div",Ke,[e("div",null,[Qe,h(e("input",{type:"text",id:"name","onUpdate:modelValue":s[3]||(s[3]=t=>o(u).name=t),class:"mt-1 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md p-2"},null,512),[[A,o(u).name]])]),e("div",null,[We,h(e("input",{type:"number",id:"duration","onUpdate:modelValue":s[4]||(s[4]=t=>o(u).duration=t),class:"mt-1 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md p-2"},null,512),[[A,o(u).duration]])]),e("div",null,[Xe,h(e("input",{type:"number",id:"price","onUpdate:modelValue":s[5]||(s[5]=t=>o(u).price=t),class:"mt-1 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md p-2"},null,512),[[A,o(u).price]])])]),e("div",Ye,[a(_,{type:"submit",variant:"soft",color:"blue"},{default:n(()=>[g(" Save ")]),_:1})])],32)])]),_:1})]),_:1},8,["modelValue"]),a(E,{modelValue:o(P),"onUpdate:modelValue":s[13]||(s[13]=t=>z(P)?P.value=t:null)},{default:n(()=>[a(k,null,{default:n(()=>[e("div",Ze,[et,a(_,{variant:"soft",color:"red",icon:"i-heroicons-x-circle",onClick:s[7]||(s[7]=t=>P.value=!1)})]),e("div",tt,[e("form",{onSubmit:H(te,["prevent"])},[e("div",st,[e("div",null,[at,h(e("input",{type:"text",id:"newName","onUpdate:modelValue":s[8]||(s[8]=t=>o(r).name=t),class:"mt-1 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md p-2"},null,512),[[A,o(r).name]])]),e("div",null,[ot,h(e("input",{type:"number",id:"newDuration","onUpdate:modelValue":s[9]||(s[9]=t=>o(r).duration=t),class:"mt-1 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md p-2"},null,512),[[A,o(r).duration]])]),e("div",null,[nt,h(e("input",{type:"number",id:"newPrice","onUpdate:modelValue":s[10]||(s[10]=t=>o(r).price=t),class:"mt-1 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md p-2"},null,512),[[A,o(r).price]])]),o(M)==="subs"?(i(),d("div",lt,[it,e("div",ct,[(i(!0),d(j,null,S(o(Y),t=>(i(),d("label",{key:t.id,class:"flex gap-1 py-[0.1em] w-fit"},[h(e("input",{type:"checkbox",class:"form-checkbox h-5 w-5 text-primary rounded-md",value:t.id,"onUpdate:modelValue":s[11]||(s[11]=x=>o(r).rule_json=x)},null,8,rt),[[ce,o(r).rule_json]]),e("span",dt,b(t.name),1)]))),128))])])):J("",!0),o(M)==="ads"?(i(),d("div",ut,[mt,a(ae,{modelValue:o(r).route_json,"onUpdate:modelValue":s[12]||(s[12]=t=>o(r).route_json=t),searchable:"",options:o(O),placeholder:"Select Ads Show Page","option-attribute":"name",multiple:"",trailing:"",by:"id",class:"w-full"},{default:n(()=>[a(_,{color:"gray",class:"flex-1 justify-between"},{default:n(()=>[o(O).length>0?(i(),d("div",pt,[(i(!0),d(j,null,S(o(u).route_json,(t,x)=>(i(),U(se,{key:x,color:"blue",variant:"soft"},{default:n(()=>[e("span",ft,b(t.name),1)]),_:2},1024))),128))])):(i(),d("span",_t," Select Main Skills ")),a(f,{name:"i-heroicons-chevron-down-20-solid",class:re(["w-5 h-5 transition-transform text-gray-400 dark:text-gray-500",[l.open&&"transform rotate-90"]])},null,8,["class"])]),_:1})]),_:1},8,["modelValue","options"])])):J("",!0)]),e("div",gt,[a(_,{type:"submit",variant:"soft",color:"blue"},{default:n(()=>[g(" Save ")]),_:1})])],32)])]),_:1})]),_:1},8,["modelValue"])]))]),_:1}),a(be,{isOpen:o(W),data:o(X)},null,8,["isOpen","data"])])}}};export{Dt as default};
