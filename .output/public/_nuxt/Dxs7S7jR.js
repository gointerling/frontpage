import{_ as W}from"./vIeE2Lqx.js";import{g as Y,x as q,V as H,r,G as J,h as K,i as Q,B as f,c as _,Y as X,a2 as Z,a as e,b as o,F as C,m as D,k as ee,w as c,q as m,l as h,s as te,o as a,t as i,n as se,d as v,a0 as oe,v as ae}from"./BryKqlfZ.js";import{_ as ne}from"./BFXRxRsm.js";import{_ as ie}from"./ChJs9Bjv.js";import{_ as le}from"./E-OrZhLo.js";import{P as ce}from"./SJIH6tYV.js";import{_ as re}from"./Dyz3dsNC.js";import{u as de}from"./DeP8cZZq.js";import"./z1PXjQNm.js";import"./B5Kju58Z.js";import"./DpFyDaYR.js";const _e={class:"w-100 flex flex-col items-center"},ue={class:"flex justify-between items-stretch w-10/12 my-16 gap-16 px-8"},me={class:"w-2/12"},pe=e("h6",{class:"font-semibold"},"Client Dashboard",-1),fe={class:"flex flex-col items-start mt-4"},he={class:"text-md text-primary"},xe={key:0,class:"w-10/12"},ge={class:"flex gap-2 items-center mb-3"},ve=e("h6",{class:"font-semibold"},"Detail Order",-1),ye={class:"flex justify-between items-center"},be={class:"flex items-center gap-2 capitalize"},ke={class:"font-semibold"},we={class:"flex justify-between items-center gap-2"},Ce={class:"capitalize"},De={class:"flex gap-3 justify-between items-center px-2"},Te={class:"flex gap-3"},Fe={class:"flex flex-col gap-1"},$e={class:"font-semibold text-primary"},Oe={class:""},Be={class:"text-sm text-gray-700"},Ne=e("br",null,null,-1),Ie={class:"text-sm text-gray-700"},Pe={key:1,class:"flex flex-col text-right"},Ue=e("span",{class:"font-thin text-primary text-md"}," Amount to be transfer : ",-1),je={class:"font-semibold text-primary text-lg my-1"},ze=e("span",{class:"font-thin text-primary text-md"}," Gointering Account ",-1),Ae={class:"font-bold text-primary text-md text-xl py-1 flex gap-2 items-center"},Ee=e("img",{src:"",alt:""},null,-1),Le={key:2,class:"flex flex-col text-right items-end"},Re=e("span",{class:"font-semibold text-xl pb-2"},"Work In Progress",-1),Se=e("p",{class:"w-7/12 text-gray-600 text-sm"}," Your order has been received and is now being processed. Thank you for your trust in using our services. ",-1),Ve=[Re,Se],tt={__name:"[id]",setup(Me){const T=Y(),F=q(),y=H(),{getDetailOrder:$}=de();r(null);const O=[{key:"order-history",label:"Order History",icon:"user-circle",scope:"all"}],B=r({title:"",content:"",confirmText:"",cancelText:"",callback:null}),x=r(!0),N=r(!1),p=r("order-history"),d=r({fullname:"",photo:"",email:"",phone:"",address:"",role:"",personal_description:"",main_skills:[],additional_skills:[],is_admin:!1,is_facilitator:!1}),b=r([]),I=J(()=>{if(!d.value)return[];const s=d.value.is_admin??!1,n=d.value.is_facilitator??!1;return O.filter(l=>l.scope==="all"||l.scope==="admin"&&s||l.scope==="merchant"&&n)}),k=s=>{switch(s){case"completed":return{color:"green",text:"Completed"};case"paid":return{color:"blue",text:"In Progress"};case"pending":return{color:"violet",text:"Pending"};case"waitingpaid":return{color:"orange",text:"Waiting to be paid"};case"failed":return{color:"red",text:"Failed"};default:return{color:"gray",text:"Unknown"}}},P=s=>{navigator.clipboard.writeText(s),T.add({title:"Copied!",color:"green",icon:"i-heroicons-check-circle",description:"No Rekening copied to clipboard!"})},U=s=>{window.open(s,"_blank")},j=s=>{y.push(s)},z=()=>{console.log("Logging out..."),f("token").value=null,d.value={fullname:"",photo:"",email:"",phone:"",address:"",role:"",personal_description:"",main_skills:[],additional_skills:[],is_admin:!1,is_facilitator:!1}},A=s=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(s),E=async()=>{const s=F.params.id;try{const{data:n}=await $(s);b.value=[n.data.order]}catch(n){console.error("Fetching orders failed:",n)}};K(()=>p.value,s=>{s==="service"&&f("token").value.user.merchant_status==="pending"&&y.push({name:"my-merchant-status"})});const L=async()=>{try{d.value=f("token").value.user||null}catch(s){console.error("Fetching user failed:",s)}};return Q(async()=>{f("token").value&&(await L(),await E()),x.value=!1,window.scrollTo({top:0,behavior:"smooth"})}),(s,n)=>{const l=W,u=te,R=oe,S=ne,V=ae,M=ie,G=le;return a(),_("div",null,[X(e("div",_e,[o(re,{user:d.value,onLogout:z,class:"w-full"},null,8,["user"]),e("div",ue,[e("div",me,[pe,e("div",fe,[(a(!0),_(C,null,D(ee(I),(t,g)=>(a(),h(u,{key:g,block:"",class:se(["py-3 px-3.5 flex justify-start bg-white hover:bg-[#FDF1EE] shadow-none",p.value===t.key?"bg-[#FDF1EE]":"bg-white"]),onClick:w=>p.value=t.key},{default:c(()=>[o(l,{name:t.icon,class:"text-2xl text-primary"},null,8,["name"]),e("span",he,i(t.label),1)]),_:2},1032,["class","onClick"]))),128))])]),p.value==="order-history"?(a(),_("div",xe,[e("div",ge,[o(u,{variant:"link",onClick:n[0]||(n[0]=t=>j({name:"my-client-orders"}))},{default:c(()=>[o(l,{name:"chevron-left"})]),_:1}),ve]),(a(!0),_(C,null,D(b.value,(t,g)=>(a(),h(M,{key:g,ui:{header:{padding:"px-4 py-2 sm:px-3"},body:{padding:"px-4 py-0  sm:p-3"}},class:"p-2"},{header:c(()=>[e("div",ye,[e("div",be,[o(R,{name:"i-heroicons-language"}),e("span",ke,i(t.merchant.type),1)]),e("div",we,[o(S,{variant:"soft",color:k(t.order_status).color},{default:c(()=>[e("span",Ce,i(k(t.order_status).text),1)]),_:2},1032,["color"]),o(u,{variant:"link"},{default:c(()=>[o(l,{name:"dots",class:"text-md text-primary"})]),_:1})])])]),default:c(()=>[e("div",De,[e("div",Te,[e("div",Fe,[o(V,{alt:t.merchant_user.fullname,src:t.merchant_user.photo,size:"xl",imgClass:"object-cover",class:"mb-2"},null,8,["alt","src"]),e("span",$e,i(t.merchant_user.fullname),1),e("div",Oe,[e("span",Be,[v(i(t.service.name)+" Service ",1),Ne]),e("span",Ie," ("+i(t.language_source.name)+" - "+i(t.language_destination.name)+") ",1)])])]),t.order_status==="completed"?(a(),h(u,{key:0,color:"primary",class:"text-white mr-4",onClick:w=>U(`https://gointering.com/api/v1/orders/${t.id}/download-result`)},{default:c(()=>[v(" Download Result ")]),_:2},1032,["onClick"])):m("",!0),t.order_status==="waitingpaid"?(a(),_("div",Pe,[Ue,e("h6",je,i(A(t.price)),1),ze,e("h6",Ae,[v(i(t.merchant.bank_account)+" (BCA) ",1),o(u,{size:"xs",variant:"outline",color:"blue",onClick:w=>P(t.merchant.bank_account),class:""},{default:c(()=>[o(l,{name:"copy",class:"text-lg"})]),_:2},1032,["onClick"])]),Ee])):m("",!0),t.order_status==="paid"?(a(),_("div",Le,Ve)):m("",!0)])]),_:2},1024))),128))])):m("",!0)])],512),[[Z,!x.value]]),x.value?(a(),h(ce,{key:0})):m("",!0),o(G,{isOpen:N.value,data:B.value},null,8,["isOpen","data"])])}}};export{tt as default};
