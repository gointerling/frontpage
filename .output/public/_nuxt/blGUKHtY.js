import{_ as M}from"./Dog-sPf1.js";import{_ as I}from"./C-ptd64V.js";import{_ as O}from"./BjdPyee9.js";import{_ as N}from"./CAYk7iLE.js";import{g as U,r as o,h as D,i as F,c as b,b as l,w as _,j as T,o as v,a as t,t as $,k as j,F as A,m as B}from"./CLq9dtKI.js";import{_ as E}from"./BKODF5iY.js";import{u as J}from"./CfbKCHSf.js";import"./DgddTOVK.js";import"./WFOJnoRW.js";import"./CwovwDvV.js";import"./CaEY2f_t.js";const L={class:"w-full pt-0 p-6 flex flex-col gap-2"},z={class:"flex gap-2"},Q={class:"w-full pt-0 p-6 grid grid-cols-4 gap-4"},q=t("div",null,[t("h6",{class:"font-semibold text-2xl"},"40"),t("span",null,"Order")],-1),G="Dashboard",sa={__name:"dashboard",setup(H){const{getMerchants:x,updateMerchantStatus:K}=J();U();const y=o(!1),k=o({title:"",message:"",callback:null}),w=o([]),s=o({label:"All",value:"all"}),i=o(""),u=o(1),f=o({page:1,totalPage:1,totalItems:0,itemsPerPage:10}),P=[[{key:"completed",label:"Completed",icon:"i-heroicons-check",callback:()=>{console.log("completed")}}],[{key:"uncompleted",label:"In Progress",icon:"i-heroicons-arrow-path",callback:()=>{console.log("uncompleted")}}]],m=async()=>{try{await x({page:u.value,per_page:f.value.itemsPerPage,status:s.value.value==="all"?"":s.value.value,search:i.value}).then(e=>{w.value=e.data.data.data.map(a=>({user:{id:a.id,fullname:a.fullname,email:a.email},phone:a.phone,type:a.merchants[0].type,bank:{bank:a.merchants[0].bank,bankAccount:a.merchants[0].bank_account},CV:a.merchants[0].cv_url,portfolio:JSON.parse(a.merchants[0].portfolios),certificate:JSON.parse(a.merchants[0].certificates),status:a.merchants[0].status,actions:P})),f.value={page:e.data.data.current_page,totalPage:e.data.data.last_page,totalItems:e.data.data.total,itemsPerPage:e.data.data.per_page}})}catch(e){console.error("Error fetching facilitators:",e)}};D(u,m);const g=()=>{m(u.value,s.value.value,i.value)},V=S(()=>{g()},500);function S(e,a,h){let c;return function(){const r=this,p=arguments,d=function(){c=null,e.apply(r,p)};clearTimeout(c),c=setTimeout(d,a)}}return F(()=>{m()}),(e,a)=>{const h=M,c=I,r=O,p=N,d=T,C=E;return v(),b("div",null,[l(d,{name:"merchant"},{default:_(()=>[t("div",L,[l(r,{ui:{body:{base:"flex justify-between items-center",background:"",padding:"p-2 sm:p-4"}}},{default:_(()=>[t("h6",{class:"font-semibold"},$(G)),t("div",z,[l(h,{options:[{label:"All",value:"all",color:"gray"},{label:"Verified",value:"verified",color:"blue"},{label:"Pending",value:"pending",color:"orange"}],modelValue:s.value,"onUpdate:modelValue":a[0]||(a[0]=n=>s.value=n),placeholder:"Pilih Status",by:"value","option-attribute":"label","search-attributes":["label"],onChange:g,class:"max-w-[180px]"},null,8,["modelValue"]),l(c,{icon:"i-heroicons-magnifying-glass-20-solid",size:"sm",color:"white",trailing:!1,placeholder:"Search ",modelValue:i.value,"onUpdate:modelValue":a[1]||(a[1]=n=>i.value=n),onInput:a[2]||(a[2]=n=>j(V)())},null,8,["modelValue"])])]),_:1})]),t("div",Q,[(v(),b(A,null,B(4,n=>l(r,{key:n,ui:{body:{base:"flex justify-between items-center",background:"",padding:"p-2 sm:p-4"}}},{default:_(()=>[q,t("div",null,[l(p,{name:"user-circle",class:"text-3xl"})])]),_:2},1024)),64))])]),_:1}),l(C,{isOpen:y.value,data:k.value},null,8,["isOpen","data"])])}}};export{sa as default};
