import{_ as Z}from"./C5WGpzWO.js";import{r as l,V as ee,g as te,i as L,o as c,c as q,b as a,w as n,a as e,Y as x,a2 as g,l as y,q as F,t as ae,k,d as i,s as oe,B as se}from"./B9UU7KBM.js";import{h as ne}from"./Dxer7fP4.js";import{P as le}from"./UyndPBGG.js";import{_ as ie}from"./C-oPIdWO.js";import{_ as re}from"./jmmVqBy-.js";import{_ as ce}from"./MquVmMhV.js";import{_ as ue}from"./Bnl8-puv.js";import{_ as me}from"./C-Pg8Vge.js";import{_ as de}from"./BzAFC245.js";import{_ as pe}from"./BXmdYgtI.js";import{c as G,a as N}from"./M1_3KTZr.js";import{u as z}from"./CdZsmInH.js";import"./CTOlKjWk.js";import"./BYUOyCDf.js";import"./Dw8MMIZd.js";import"./DfiYkFgm.js";const _e={class:"h-full"},fe=e("h6",{class:"text-2xl font-semibold text-primary max-w-sm py-3"},[i(" Welcome Our New "),e("br"),e("b",{class:"text-accent text-3xl"},"Facilitators"),i("! ")],-1),he=e("p",{class:"text-sm text-gray-700 pb-3"},[i(" Please fill in the form below to get started "),e("br"),i(" to be a Gointerling facilitator. ")],-1),ve=e("p",{class:"text-sm text-gray-700 pb-3"},[i(" Please fill in the form below to get started "),e("br"),i(" to be a Gointerling facilitator. ")],-1),be=e("p",{class:"text-sm text-gray-700 pb-3"},[i(" Please fill in the form below to get started "),e("br"),i(" to be a Gointerling facilitator. ")],-1),xe=e("p",{class:"text-sm text-gray-700 pb-3"},[i(" Please fill in the form below to get started "),e("br"),i(" to be a Gointerling facilitator. ")],-1),ge={class:"flex gap-2 mt-4"},ye={class:"flex items-center gap-2"},ke={class:"flex items-center gap-2"},we=e("span",null,"Selanjutnya",-1),Ve={class:"flex items-center gap-2"},Pe={__name:"MerchantForm",props:{merchant_id:{type:Number,required:!0}},setup(T){const{updateMyMerchant:w,setupMyMerchantService:V}=z(),f=T,u=G({type:G().required(),bank:N().required(),bank_account:N().required(),cv_url:N().required()}),s=l(1),h=ee(),P=te(),C=[{id:"translator",name:"Translator"},{id:"interpreter",name:"Interpreter"}],R=[{id:"bca",name:"BCA"},{id:"bni",name:"BNI"},{id:"bri",name:"BRI"},{id:"mandiri",name:"Mandiri"}],v=l(C.find(t=>t.id==="translator")||C[0]),M=l(!1);l(null);const b=l(null),m=l(null),$=l(null),S=l([]),U=l([]),j=t=>{(t===-1||O(s.value))&&(s.value=s.value+t),h.push({query:{step:s.value}})},E={1:{conditions:[{check:()=>!v.value,message:"Please select a type"}]},2:{conditions:[{check:()=>!m.value,message:"Please select a valid bank"},{check:()=>!b.value,message:"Please fill in the bank account number"}]},3:{conditions:[{check:()=>!$.value,message:"Please upload your CV"}]}},O=t=>{const o=E[t];if(!o)return!1;let d=!0;return o.conditions.forEach(_=>{_.check()&&(D(_.message),d=!1,M.value=!0),M.value=!1}),d},D=t=>{P.add({title:"Uh Oh!",color:"red",icon:"i-heroicons-x-circle",description:t||"Please fill in the form correctly!"})},A=t=>{h.push(t)},W=t=>{$.value=t},Y=t=>{S.value=t},H=t=>{U.value=t},J=async()=>{const t={type:v.value.id,bank_id:m.value.id,bank:m.value.name,bank_account:`${b.value}`,cv_url:$.value,portfolios:S.value,certificates:U.value,merchant_id:f.merchant_id};try{await w(t),P.add({title:"Success!",color:"green",icon:"i-heroicons-check-circle",description:"Merchant setup successfully!"}),A("/my/merchant/status")}catch(o){P.add({title:"Uh Oh!",color:"red",icon:"i-heroicons-x-circle",description:o.response.data.error.message})}};return L(async()=>{m.value=R[0]}),(t,o)=>{const d=ie,_=re,p=ce,K=ue,Q=me,I=de,B=oe,X=pe;return c(),q("div",_e,[a(X,{"validation-schema":k(u),onSubmit:t.handleRegister,class:"h-full flex flex-col justify-between"},{default:n(()=>[e("div",null,[a(d,{name:"logo",filled:"",class:"text-4xl"}),fe,x(e("div",null,[he,a(p,{name:"type",label:"Tipe Fasilitator",class:"mb-2"},{default:n(()=>[a(_,{modelValue:v.value,"onUpdate:modelValue":o[0]||(o[0]=r=>v.value=r),options:C,placeholder:"Pilih Tipe Fasilitator",by:"id","option-attribute":"name","search-attributes":["name"]},null,8,["modelValue"])]),_:1})],512),[[g,s.value===1]]),x(e("div",null,[ve,a(p,{name:"bank",label:"Nama Bank",class:"mb-2"},{default:n(()=>[a(_,{modelValue:m.value,"onUpdate:modelValue":o[1]||(o[1]=r=>m.value=r),options:R,placeholder:"Pilih Nama Bank",by:"id","option-attribute":"name","search-attributes":["name"]},null,8,["modelValue"])]),_:1}),a(p,{name:"bank_account",label:"No Rekening",class:"mb-2"},{default:n(()=>[a(K,{type:"number",modelValue:b.value,"onUpdate:modelValue":o[2]||(o[2]=r=>b.value=r),required:"",placeholder:"Masukkan No Rekening",class:"w-full",color:M.value?"red":"gray"},null,8,["modelValue","color"])]),_:1})],512),[[g,s.value===2]]),x(e("div",null,[be,a(p,{name:"bank",label:"File CV (Max 6MB)",class:"mb-4"},{default:n(()=>[a(Q,{title:"CV",accept:"application/pdf","max-size":"6291456",onFileUploaded:W})]),_:1})],512),[[g,s.value===3]]),x(e("div",null,[xe,a(p,{name:"portfolios",label:"Portfolios",class:"mb-2"},{default:n(()=>[a(I,{title:"Portfolio",accept:"application/pdf","max-size":"6291456",onFileUploaded:Y})]),_:1}),a(p,{name:"certificates",label:"Certificates ",class:"mb-2"},{default:n(()=>[a(I,{title:"Certificate",accept:"application/pdf","max-size":"6291456",onFileUploaded:H})]),_:1})],512),[[g,s.value===4]])]),e("div",ge,[s.value>1?(c(),y(B,{key:0,class:"bg-accent",onClick:o[3]||(o[3]=r=>j(-1))},{default:n(()=>[e("div",ye,[a(d,{name:"chevron-left"})])]),_:1})):F("",!0),s.value<4?(c(),y(B,{key:1,onClick:o[4]||(o[4]=r=>j(1))},{default:n(()=>[e("div",ke,[we,a(d,{name:"chevron-right"})])]),_:1})):F("",!0),s.value===4?(c(),y(B,{key:2,onClick:o[5]||(o[5]=r=>J())},{default:n(()=>[e("div",Ve,[e("span",null,ae(S.value.length>0||U.value.length>0?"Finish Setup":"Skip for Now"),1)])]),_:1})):F("",!0)])]),_:1},8,["validation-schema","onSubmit"])])}}},Ce={key:1,class:"w-full h-screen flex items-center justify-center bg-slate-200"},Me={class:"flex gap-4 p-4 h-full"},$e={class:"flex align-middle justify-center items-center"},Se=["src"],Ue={class:"px-6 min-w-[400px]"},He={__name:"onboarding",setup(T){const{getMyMerchants:w}=z(),V=l(!0),f=l(null);return L(async()=>{await w().then(u=>{const s=u.data.data.user.merchants[0].status;u.data.data.user.merchants[0].is_first_time,se("token").value.user.merchant_status=s,f.value=u.data.data.user.merchants[0].id,V.value=!1})}),(u,s)=>{const h=Z;return c(),q("div",null,[k(V)?(c(),y(le,{key:0})):(c(),q("div",Ce,[a(h,{ui:{body:{padding:"p-0",base:"h-full"}},class:"min-w-[750px] min-h-[400px] flex items-center justify-center"},{default:n(()=>[e("div",Me,[e("div",$e,[e("img",{src:k(ne),width:"300px"},null,8,Se)]),e("div",Ue,[a(Pe,{merchant_id:k(f)},null,8,["merchant_id"])])])]),_:1})]))])}}};export{He as default};
