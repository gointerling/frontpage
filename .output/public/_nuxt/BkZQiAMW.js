import{_ as z}from"./2riXc9X8.js";import{_ as B,H as D,G as P,r as n,h as T,i as $,I as u,c as A,B as p,a5 as h,a as e,b as t,v as I,w as N,t as _,d,a1 as U,m as V,n as j,s as F,y as H,o as x}from"./3LrDIpDG.js";import{S as L}from"./CNhcoXiT.js";import{P as R}from"./CDYY9-_Q.js";import"./CcMtSYFD.js";import"./D-bRifAp.js";const E={class:"flex"},G={class:"sticky top-0 h-screen"},M={class:"p-6 w-full flex justify-between"},O={class:"flex gap-3 items-center"},W={class:"font-semibold"},q={class:"mx-2"},J={class:"absolute right-0 z-10 mt-10 w-48 py-1 bg-white rounded-lg shadow-lg"},K={class:"w-full h-full"},Q={__name:"admin",setup(X){D();const m=P(),r=n(!0),i=n({fullname:"",photo:""}),a=n(!1),c=n(!1),b=()=>{a.value=!a.value,localStorage.setItem("sidenav-closed",a.value)},w=[{label:"Dashboard",icon:"i-heroicons-home",to:"/admin/dashboard"},{label:"Transactions",icon:"i-heroicons-chart-bar",to:"/admin/transactions"},{label:"Facilitators",icon:"i-heroicons-building-storefront",to:"/admin/merchants"},{label:"Ads",icon:"i-heroicons-megaphone",to:"/admin/ads"},{label:"Users",icon:"i-heroicons-users",to:"/admin/users"},{label:"Packages",icon:"i-heroicons-sparkles",to:"/admin/packages"},{label:"Settings",icon:"i-heroicons-cog",to:"/admin/settings"}],f=n("w-11/12"),y=async()=>{try{i.value=u("token").value.user||null}catch(s){console.error("Fetching user failed:",s)}},k=()=>{const s=u("token");s.value=null,c.value=!1,m.push("/auth/login")},g=s=>{m.push(s)};return T(a,s=>{f.value=s?"w-full":"w-11/12"}),$(async()=>{a.value=localStorage.getItem("sidenav-closed")==="true",u("token").value&&await y(),r.value=!1,window.scrollTo({top:0,behavior:"smooth"})}),(s,o)=>{const l=z,S=F,C=H;return x(),A("div",null,[p(e("div",E,[e("div",G,[t(L,{"is-admin":"",navs:w,isSmallSize:a.value,title:"Admin"},null,8,["isSmallSize"])]),e("div",{class:I(["flex flex-col bg-slate-100",f.value])},[e("nav",M,[e("div",O,[t(S,{class:"p-2 bg-gray-300",onClick:b},{default:N(()=>[t(l,{name:"sidebar",class:"text-white"})]),_:1}),e("span",W,_(s.menuTitle||"Admin Dashboard"),1)]),e("button",{onClick:o[0]||(o[0]=v=>c.value=!c.value),class:"flex items-center align-middle text-sm font-medium text-gray-900 rounded-full focus:outline-none focus:shadow-outline"},[t(C,{alt:i.value.fullname??"",src:i.value.photo,size:"sm",imgClass:"object-cover"},null,8,["alt","src"]),e("span",q,_(i.value.fullname??""),1),t(l,{name:"chevron-simple-down",class:"mx-4",filled:""})]),p(e("div",J,[e("button",{class:"w-full flex gap-2 align-middle items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:o[1]||(o[1]=v=>g({name:"profile"}))},[t(l,{name:"user-circle",class:"text-2xl"}),d(" Profile ")]),e("button",{class:"w-full flex gap-2 align-middle items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:o[2]||(o[2]=v=>g({name:"index"}))},[t(l,{name:"home",class:"text-2xl"}),d(" Home ")]),e("button",{class:"w-full flex gap-2 align-middle items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:k},[t(l,{name:"logout",class:"text-2xl"}),d(" Sign out ")])],512),[[h,c.value]])]),e("div",K,[U(s.$slots,"default",{},void 0,!0)])],2)],512),[[h,!r.value]]),r.value?(x(),V(R,{key:0})):j("",!0)])}}},oe=B(Q,[["__scopeId","data-v-82332d95"]]);export{oe as default};
