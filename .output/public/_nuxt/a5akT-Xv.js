import{G as A,k as qe,am as wn,h as ae,aq as Et,ar as Sn,r as j,J as Ht,i as ze,I as fe,D as pe,ao as In,H as qt,E as Ke,F as Ut,K as Kt,ab as ue,as as Cn,a8 as te,at as Mt,_ as En,L as Xt,M as de,a0 as Yt,v as Gt,N as Rt,O as tt,a6 as Mn,ae as Rn,W as Tn,X as Ce,af as An,ag as Pn,a7 as $n,Q as Ee,o as N,l as Me,w as Re,a as Te,n as F,b as he,U as nt,c as ne,S as Ae,q as se,T as Dn,m as kn,R as Bn,t as Tt,d as At,al as zn,au as jn}from"./CYqA3fPq.js";import{u as Vn}from"./DMmrJdCE.js";import{r as it,o as k,i as Jt,a as be,w as Fn,g as Ln,j as Xe,f as Nn,E as Wn,u as Hn,A as je,T as st,I as Je,N as Ye,k as qn,O as Un,b as U,p as Pt,x as Kn,l as Xn}from"./sOkZ5zbp.js";import{u as Yn}from"./CX_izJYn.js";function Pe(e,n,t){let o=t.initialDeps??[],a;return()=>{var r,l,i,s;let d;t.key&&((r=t.debug)!=null&&r.call(t))&&(d=Date.now());const u=e();if(!(u.length!==o.length||u.some((b,m)=>o[m]!==b)))return a;o=u;let x;if(t.key&&((l=t.debug)!=null&&l.call(t))&&(x=Date.now()),a=n(...u),t.key&&((i=t.debug)!=null&&i.call(t))){const b=Math.round((Date.now()-d)*100)/100,m=Math.round((Date.now()-x)*100)/100,I=m/16,w=(O,g)=>{for(O=String(O);O.length<g;)O=" "+O;return O};console.info(`%c⏱ ${w(m,5)} /${w(b,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*I,120))}deg 100% 31%);`,t==null?void 0:t.key)}return(s=t==null?void 0:t.onChange)==null||s.call(t,a),a}}function at(e,n){if(e===void 0)throw new Error("Unexpected undefined");return e}const Gn=(e,n)=>Math.abs(e-n)<1,Jn=(e,n,t)=>{let o;return function(...a){e.clearTimeout(o),o=e.setTimeout(()=>n.apply(this,a),t)}},Qn=e=>e,Zn=e=>{const n=Math.max(e.startIndex-e.overscan,0),t=Math.min(e.endIndex+e.overscan,e.count-1),o=[];for(let a=n;a<=t;a++)o.push(a);return o},_n=(e,n)=>{const t=e.scrollElement;if(!t)return;const o=e.targetWindow;if(!o)return;const a=l=>{const{width:i,height:s}=l;n({width:Math.round(i),height:Math.round(s)})};if(a(t.getBoundingClientRect()),!o.ResizeObserver)return()=>{};const r=new o.ResizeObserver(l=>{const i=l[0];if(i!=null&&i.borderBoxSize){const s=i.borderBoxSize[0];if(s){a({width:s.inlineSize,height:s.blockSize});return}}a(t.getBoundingClientRect())});return r.observe(t,{box:"border-box"}),()=>{r.unobserve(t)}},$t={passive:!0},ea=typeof window>"u"?!0:"onscrollend"in window,ta=(e,n)=>{const t=e.scrollElement;if(!t)return;const o=e.targetWindow;if(!o)return;let a=0;const r=ea?()=>{}:Jn(o,()=>{n(a,!1)},e.options.isScrollingResetDelay),l=d=>()=>{a=t[e.options.horizontal?"scrollLeft":"scrollTop"],r(),n(a,d)},i=l(!0),s=l(!1);return s(),t.addEventListener("scroll",i,$t),t.addEventListener("scrollend",s,$t),()=>{t.removeEventListener("scroll",i),t.removeEventListener("scrollend",s)}},na=(e,n,t)=>{if(n!=null&&n.borderBoxSize){const o=n.borderBoxSize[0];if(o)return Math.round(o[t.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[t.options.horizontal?"width":"height"])},aa=(e,{adjustments:n=0,behavior:t},o)=>{var a,r;const l=e+n;(r=(a=o.scrollElement)==null?void 0:a.scrollTo)==null||r.call(a,{[o.options.horizontal?"left":"top"]:l,behavior:t})};class oa{constructor(n){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=(()=>{let t=null;const o=()=>t||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:t=new this.targetWindow.ResizeObserver(a=>{a.forEach(r=>{this._measureElement(r.target,r)})}));return{disconnect:()=>{var a;return(a=o())==null?void 0:a.disconnect()},observe:a=>{var r;return(r=o())==null?void 0:r.observe(a,{box:"border-box"})},unobserve:a=>{var r;return(r=o())==null?void 0:r.unobserve(a)}}})(),this.range=null,this.setOptions=t=>{Object.entries(t).forEach(([o,a])=>{typeof a>"u"&&delete t[o]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Qn,rangeExtractor:Zn,onChange:()=>{},measureElement:na,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,...t}},this.notify=(t,o)=>{var a,r;const{startIndex:l,endIndex:i}=this.range??{startIndex:void 0,endIndex:void 0},s=this.calculateRange();(t||l!==(s==null?void 0:s.startIndex)||i!==(s==null?void 0:s.endIndex))&&((r=(a=this.options).onChange)==null||r.call(a,this,o))},this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(t=>t()),this.unsubs=[],this.scrollElement=null},this._didMount=()=>(this.measureElementCache.forEach(this.observer.observe),()=>{this.observer.disconnect(),this.cleanup()}),this._willUpdate=()=>{var t;const o=this.options.getScrollElement();this.scrollElement!==o&&(this.cleanup(),this.scrollElement=o,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((t=this.scrollElement)==null?void 0:t.window)??null,this._scrollToOffset(this.scrollOffset,{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,a=>{this.scrollRect=a,this.notify(!1,!1)})),this.unsubs.push(this.options.observeElementOffset(this,(a,r)=>{this.scrollAdjustments=0,this.scrollDirection=r?this.scrollOffset<a?"forward":"backward":null,this.scrollOffset=a;const l=this.isScrolling;this.isScrolling=r,this.notify(l!==r,r)})))},this.getSize=()=>this.scrollRect[this.options.horizontal?"width":"height"],this.getMeasurementOptions=Pe(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey],(t,o,a,r)=>(this.pendingMeasuredCacheIndexes=[],{count:t,paddingStart:o,scrollMargin:a,getItemKey:r}),{key:!1}),this.getFurthestMeasurement=(t,o)=>{const a=new Map,r=new Map;for(let l=o-1;l>=0;l--){const i=t[l];if(a.has(i.lane))continue;const s=r.get(i.lane);if(s==null||i.end>s.end?r.set(i.lane,i):i.end<s.end&&a.set(i.lane,!0),a.size===this.options.lanes)break}return r.size===this.options.lanes?Array.from(r.values()).sort((l,i)=>l.end===i.end?l.index-i.index:l.end-i.end)[0]:void 0},this.getMeasurements=Pe(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:t,paddingStart:o,scrollMargin:a,getItemKey:r},l)=>{const i=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const s=this.measurementsCache.slice(0,i);for(let d=i;d<t;d++){const u=r(d),p=this.options.lanes===1?s[d-1]:this.getFurthestMeasurement(s,d),x=p?p.end+this.options.gap:o+a,b=l.get(u),m=typeof b=="number"?b:this.options.estimateSize(d),I=x+m,w=p?p.lane:d%this.options.lanes;s[d]={index:d,start:x,size:m,end:I,key:u,lane:w}}return this.measurementsCache=s,s},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Pe(()=>[this.getMeasurements(),this.getSize(),this.scrollOffset],(t,o,a)=>this.range=t.length>0&&o>0?ia({measurements:t,outerSize:o,scrollOffset:a}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=Pe(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(t,o,a,r)=>o===null?[]:t({startIndex:o.startIndex,endIndex:o.endIndex,overscan:a,count:r}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=t=>{const o=this.options.indexAttribute,a=t.getAttribute(o);return a?parseInt(a,10):(console.warn(`Missing attribute name '${o}={index}' on measured element.`),-1)},this._measureElement=(t,o)=>{const a=this.measurementsCache[this.indexFromElement(t)];if(!a||!t.isConnected){this.measureElementCache.forEach((i,s)=>{i===t&&(this.observer.unobserve(t),this.measureElementCache.delete(s))});return}const r=this.measureElementCache.get(a.key);r!==t&&(r&&this.observer.unobserve(r),this.observer.observe(t),this.measureElementCache.set(a.key,t));const l=this.options.measureElement(t,o,this);this.resizeItem(a,l)},this.resizeItem=(t,o)=>{const a=this.itemSizeCache.get(t.key)??t.size,r=o-a;r!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(t,r,this):t.start<this.scrollOffset+this.scrollAdjustments)&&this._scrollToOffset(this.scrollOffset,{adjustments:this.scrollAdjustments+=r,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(t.index),this.itemSizeCache=new Map(this.itemSizeCache.set(t.key,o)),this.notify(!0,!1))},this.measureElement=t=>{t&&this._measureElement(t,void 0)},this.getVirtualItems=Pe(()=>[this.getIndexes(),this.getMeasurements()],(t,o)=>{const a=[];for(let r=0,l=t.length;r<l;r++){const i=t[r],s=o[i];a.push(s)}return a},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=t=>{const o=this.getMeasurements();return at(o[Qt(0,o.length-1,a=>at(o[a]).start,t)])},this.getOffsetForAlignment=(t,o)=>{const a=this.getSize();o==="auto"&&(t<=this.scrollOffset?o="start":t>=this.scrollOffset+a?o="end":o="start"),o==="start"?t=t:o==="end"?t=t-a:o==="center"&&(t=t-a/2);const r=this.options.horizontal?"scrollWidth":"scrollHeight",i=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[r]:this.scrollElement[r]:0)-this.getSize();return Math.max(Math.min(i,t),0)},this.getOffsetForIndex=(t,o="auto")=>{t=Math.max(0,Math.min(t,this.options.count-1));const a=at(this.getMeasurements()[t]);if(o==="auto")if(a.end>=this.scrollOffset+this.getSize()-this.options.scrollPaddingEnd)o="end";else if(a.start<=this.scrollOffset+this.options.scrollPaddingStart)o="start";else return[this.scrollOffset,o];const r=o==="end"?a.end+this.options.scrollPaddingEnd:a.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(r,o),o]},this.isDynamicMode=()=>this.measureElementCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(t,{align:o="start",behavior:a}={})=>{this.cancelScrollToIndex(),a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(t,o),{adjustments:void 0,behavior:a})},this.scrollToIndex=(t,{align:o="auto",behavior:a}={})=>{t=Math.max(0,Math.min(t,this.options.count-1)),this.cancelScrollToIndex(),a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const[r,l]=this.getOffsetForIndex(t,o);this._scrollToOffset(r,{adjustments:void 0,behavior:a}),a!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.measureElementCache.has(this.options.getItemKey(t))){const[s]=this.getOffsetForIndex(t,l);Gn(s,this.scrollOffset)||this.scrollToIndex(t,{align:l,behavior:a})}else this.scrollToIndex(t,{align:l,behavior:a})}))},this.scrollBy=(t,{behavior:o}={})=>{this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.scrollOffset+t,{adjustments:void 0,behavior:o})},this.getTotalSize=()=>{var t;const o=this.getMeasurements();let a;return o.length===0?a=this.options.paddingStart:a=this.options.lanes===1?((t=o[o.length-1])==null?void 0:t.end)??0:Math.max(...o.slice(-this.options.lanes).map(r=>r.end)),a-this.options.scrollMargin+this.options.paddingEnd},this._scrollToOffset=(t,{adjustments:o,behavior:a})=>{this.options.scrollToFn(t,{behavior:a,adjustments:o},this)},this.measure=()=>{var t,o;this.itemSizeCache=new Map,(o=(t=this.options).onChange)==null||o.call(t,this,!1)},this.setOptions(n),this.scrollRect=this.options.initialRect,this.scrollOffset=typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(t=>{this.itemSizeCache.set(t.key,t.size)}),this.notify(!1,!1)}}const Qt=(e,n,t,o)=>{for(;e<=n;){const a=(e+n)/2|0,r=t(a);if(r<o)e=a+1;else if(r>o)n=a-1;else return a}return e>0?e-1:0};function ia({measurements:e,outerSize:n,scrollOffset:t}){const o=e.length-1,r=Qt(0,o,i=>e[i].start,t);let l=r;for(;l<o&&e[l].end<t+n;)l++;return{startIndex:r,endIndex:l}}function ra(e){const n=new oa(qe(e)),t=wn(n),o=n._didMount();return ae(()=>qe(e).getScrollElement(),a=>{a&&n._willUpdate()},{immediate:!0}),ae(()=>qe(e),a=>{n.setOptions({...a,onChange:(r,l)=>{var i;Et(t),(i=a.onChange)==null||i.call(a,r,l)}}),n._willUpdate(),Et(t)},{immediate:!0}),Sn(o),t}function la(e){return ra(A(()=>({observeElementRect:_n,observeElementOffset:ta,scrollToFn:aa,...qe(e)})))}function sa(e,n,t){let o=j(t==null?void 0:t.value),a=A(()=>e.value!==void 0);return[A(()=>a.value?e.value:o.value),function(r){return a.value||(o.value=r),n==null?void 0:n(r)}]}function ua(){let e=it();return Ht(()=>e.dispose()),e}function da(){let e=ua();return n=>{e.dispose(),e.nextFrame(n)}}function Dt(e,n){if(e)return e;let t=n??"button";if(typeof t=="string"&&t.toLowerCase()==="button")return"button"}function ca(e,n){let t=j(Dt(e.value.type,e.value.as));return ze(()=>{t.value=Dt(e.value.type,e.value.as)}),fe(()=>{var o;t.value||k(n)&&k(n)instanceof HTMLButtonElement&&!((o=k(n))!=null&&o.hasAttribute("type"))&&(t.value="button")}),t}function kt(e){return[e.screenX,e.screenY]}function fa(){let e=j([-1,-1]);return{wasMoved(n){let t=kt(n);return e.value[0]===t[0]&&e.value[1]===t[1]?!1:(e.value=t,!0)},update(n){e.value=kt(n)}}}function va({container:e,accept:n,walk:t,enabled:o}){fe(()=>{let a=e.value;if(!a||o!==void 0&&!o.value)return;let r=Jt(e);if(!r)return;let l=Object.assign(s=>n(s),{acceptNode:n}),i=r.createTreeWalker(a,NodeFilter.SHOW_ELEMENT,l,!1);for(;i.nextNode();)t(i.currentNode)})}var Zt=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(Zt||{});function pa(e){throw new Error("Unexpected object: "+e)}var L=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(L||{});function Bt(e,n){let t=n.resolveItems();if(t.length<=0)return null;let o=n.resolveActiveIndex(),a=o??-1;switch(e.focus){case 0:{for(let r=0;r<t.length;++r)if(!n.resolveDisabled(t[r],r,t))return r;return o}case 1:{a===-1&&(a=t.length);for(let r=a-1;r>=0;--r)if(!n.resolveDisabled(t[r],r,t))return r;return o}case 2:{for(let r=a+1;r<t.length;++r)if(!n.resolveDisabled(t[r],r,t))return r;return o}case 3:{for(let r=t.length-1;r>=0;--r)if(!n.resolveDisabled(t[r],r,t))return r;return o}case 4:{for(let r=0;r<t.length;++r)if(n.resolveId(t[r],r,t)===e.id)return r;return o}case 5:return null;default:pa(e)}}function _t(e={},n=null,t=[]){for(let[o,a]of Object.entries(e))tn(t,en(n,o),a);return t}function en(e,n){return e?e+"["+n+"]":n}function tn(e,n,t){if(Array.isArray(t))for(let[o,a]of t.entries())tn(e,en(n,o.toString()),a);else t instanceof Date?e.push([n,t.toISOString()]):typeof t=="boolean"?e.push([n,t?"1":"0"]):typeof t=="string"?e.push([n,t]):typeof t=="number"?e.push([n,`${t}`]):t==null?e.push([n,""]):_t(t,n,e)}var ma={};function ha(e,n){return e===n}var ba=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ba||{}),ga=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(ga||{}),ya=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(ya||{});let nn=Symbol("ComboboxContext");function we(e){let n=Kt(nn,null);if(n===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,we),t}return n}let an=Symbol("VirtualContext"),xa=pe({name:"VirtualProvider",setup(e,{slots:n}){let t=we("VirtualProvider"),o=A(()=>{let i=k(t.optionsRef);if(!i)return{start:0,end:0};let s=window.getComputedStyle(i);return{start:parseFloat(s.paddingBlockStart||s.paddingTop),end:parseFloat(s.paddingBlockEnd||s.paddingBottom)}}),a=la(A(()=>({scrollPaddingStart:o.value.start,scrollPaddingEnd:o.value.end,count:t.virtual.value.options.length,estimateSize(){return 40},getScrollElement(){return k(t.optionsRef)},overscan:12}))),r=A(()=>{var i;return(i=t.virtual.value)==null?void 0:i.options}),l=j(0);return ae([r],()=>{l.value+=1}),qt(an,t.virtual.value?a:null),()=>[Ke("div",{style:{position:"relative",width:"100%",height:`${a.value.getTotalSize()}px`},ref:i=>{if(i){if(typeof process<"u"&&ma.JEST_WORKER_ID!==void 0||t.activationTrigger.value===0)return;t.activeOptionIndex.value!==null&&t.virtual.value.options.length>t.activeOptionIndex.value&&a.value.scrollToIndex(t.activeOptionIndex.value)}}},a.value.getVirtualItems().map(i=>Cn(n.default({option:t.virtual.value.options[i.index],open:t.comboboxState.value===0})[0],{key:`${l.value}-${i.index}`,"data-index":i.index,"aria-setsize":t.virtual.value.options.length,"aria-posinset":i.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${i.start}px)`,overflowAnchor:"none"}})))]}}),Oa=pe({name:"Combobox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],nullable:!0,default:null},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1},immediate:{type:[Boolean],default:!1},virtual:{type:Object,default:null}},inheritAttrs:!1,setup(e,{slots:n,attrs:t,emit:o}){let a=j(1),r=j(null),l=j(null),i=j(null),s=j(null),d=j({static:!1,hold:!1}),u=j([]),p=j(null),x=j(2),b=j(!1);function m(c=h=>h){let h=p.value!==null?u.value[p.value]:null,C=c(u.value.slice()),E=C.length>0&&C[0].dataRef.order.value!==null?C.sort(($,B)=>$.dataRef.order.value-B.dataRef.order.value):Un(C,$=>k($.dataRef.domRef)),P=h?E.indexOf(h):null;return P===-1&&(P=null),{options:E,activeOptionIndex:P}}let I=A(()=>e.multiple?1:0),w=A(()=>e.nullable),[O,g]=sa(A(()=>e.modelValue),c=>o("update:modelValue",c),A(()=>e.defaultValue)),S=A(()=>O.value===void 0?be(I.value,{1:[],0:void 0}):O.value),M=null,f=null;function y(c){return be(I.value,{0(){return g==null?void 0:g(c)},1:()=>{let h=te(v.value.value).slice(),C=te(c),E=h.findIndex(P=>v.compare(C,te(P)));return E===-1?h.push(C):h.splice(E,1),g==null?void 0:g(h)}})}let R=A(()=>{});ae([R],([c],[h])=>{if(v.virtual.value&&c&&h&&p.value!==null){let C=c.indexOf(h[p.value]);C!==-1?p.value=C:p.value=null}});let v={comboboxState:a,value:S,mode:I,compare(c,h){if(typeof e.by=="string"){let C=e.by;return(c==null?void 0:c[C])===(h==null?void 0:h[C])}return e.by===null?ha(c,h):e.by(c,h)},calculateIndex(c){return v.virtual.value?e.by===null?v.virtual.value.options.indexOf(c):v.virtual.value.options.findIndex(h=>v.compare(h,c)):u.value.findIndex(h=>v.compare(h.dataRef.value,c))},defaultValue:A(()=>e.defaultValue),nullable:w,immediate:A(()=>!1),virtual:A(()=>null),inputRef:l,labelRef:r,buttonRef:i,optionsRef:s,disabled:A(()=>e.disabled),options:u,change(c){g(c)},activeOptionIndex:A(()=>{if(b.value&&p.value===null&&(v.virtual.value?v.virtual.value.options.length>0:u.value.length>0)){if(v.virtual.value){let h=v.virtual.value.options.findIndex(C=>{var E;return!((E=v.virtual.value)!=null&&E.disabled(C))});if(h!==-1)return h}let c=u.value.findIndex(h=>!h.dataRef.disabled);if(c!==-1)return c}return p.value}),activationTrigger:x,optionsPropsRef:d,closeCombobox(){b.value=!1,!e.disabled&&a.value!==1&&(a.value=1,p.value=null)},openCombobox(){if(b.value=!0,!e.disabled&&a.value!==0){if(v.value.value){let c=v.calculateIndex(v.value.value);c!==-1&&(p.value=c)}a.value=0}},setActivationTrigger(c){x.value=c},goToOption(c,h,C){b.value=!1,M!==null&&cancelAnimationFrame(M),M=requestAnimationFrame(()=>{if(e.disabled||s.value&&!d.value.static&&a.value===1)return;if(v.virtual.value){p.value=c===L.Specific?h:Bt({focus:c},{resolveItems:()=>v.virtual.value.options,resolveActiveIndex:()=>{var $,B;return(B=($=v.activeOptionIndex.value)!=null?$:v.virtual.value.options.findIndex(z=>{var D;return!((D=v.virtual.value)!=null&&D.disabled(z))}))!=null?B:null},resolveDisabled:$=>v.virtual.value.disabled($),resolveId(){throw new Error("Function not implemented.")}}),x.value=C??2;return}let E=m();if(E.activeOptionIndex===null){let $=E.options.findIndex(B=>!B.dataRef.disabled);$!==-1&&(E.activeOptionIndex=$)}let P=c===L.Specific?h:Bt({focus:c},{resolveItems:()=>E.options,resolveActiveIndex:()=>E.activeOptionIndex,resolveId:$=>$.id,resolveDisabled:$=>$.dataRef.disabled});p.value=P,x.value=C??2,u.value=E.options})},selectOption(c){let h=u.value.find(E=>E.id===c);if(!h)return;let{dataRef:C}=h;y(C.value)},selectActiveOption(){if(v.activeOptionIndex.value!==null){if(v.virtual.value)y(v.virtual.value.options[v.activeOptionIndex.value]);else{let{dataRef:c}=u.value[v.activeOptionIndex.value];y(c.value)}v.goToOption(L.Specific,v.activeOptionIndex.value)}},registerOption(c,h){let C=In({id:c,dataRef:h});if(v.virtual.value){u.value.push(C);return}f&&cancelAnimationFrame(f);let E=m(P=>(P.push(C),P));p.value===null&&v.isSelected(h.value.value)&&(E.activeOptionIndex=E.options.indexOf(C)),u.value=E.options,p.value=E.activeOptionIndex,x.value=2,E.options.some(P=>!k(P.dataRef.domRef))&&(f=requestAnimationFrame(()=>{let P=m();u.value=P.options,p.value=P.activeOptionIndex}))},unregisterOption(c,h){if(M!==null&&cancelAnimationFrame(M),h&&(b.value=!0),v.virtual.value){u.value=u.value.filter(E=>E.id!==c);return}let C=m(E=>{let P=E.findIndex($=>$.id===c);return P!==-1&&E.splice(P,1),E});u.value=C.options,p.value=C.activeOptionIndex,x.value=2},isSelected(c){return be(I.value,{0:()=>v.compare(te(v.value.value),te(c)),1:()=>te(v.value.value).some(h=>v.compare(te(h),te(c)))})},isActive(c){return p.value===v.calculateIndex(c)}};Fn([l,i,s],()=>v.closeCombobox(),A(()=>a.value===0)),qt(nn,v),Ln(A(()=>be(a.value,{0:Xe.Open,1:Xe.Closed})));let T=A(()=>{var c;return(c=k(l))==null?void 0:c.closest("form")});return ze(()=>{ae([T],()=>{if(!T.value||e.defaultValue===void 0)return;function c(){v.change(e.defaultValue)}return T.value.addEventListener("reset",c),()=>{var h;(h=T.value)==null||h.removeEventListener("reset",c)}},{immediate:!0})}),()=>{var c,h,C;let{name:E,disabled:P,form:$,...B}=e,z={open:a.value===0,disabled:P,activeIndex:v.activeOptionIndex.value,activeOption:v.activeOptionIndex.value===null?null:v.virtual.value?v.virtual.value.options[(c=v.activeOptionIndex.value)!=null?c:0]:(C=(h=v.options.value[v.activeOptionIndex.value])==null?void 0:h.dataRef.value)!=null?C:null,value:S.value};return Ke(Ut,[...E!=null&&S.value!=null?_t({[E]:S.value}).map(([D,V])=>Ke(Nn,Wn({features:Hn.Hidden,key:D,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:$,disabled:P,name:D,value:V}))):[],je({theirProps:{...t,...st(B,["by","defaultValue","immediate","modelValue","multiple","nullable","onUpdate:modelValue","virtual"])},ourProps:{},slot:z,slots:n,attrs:t,name:"Combobox"})])}}}),wa=pe({name:"ComboboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:n,slots:t,expose:o}){var a;let r=(a=e.id)!=null?a:`headlessui-combobox-button-${Je()}`,l=we("ComboboxButton");o({el:l.buttonRef,$el:l.buttonRef});function i(u){l.disabled.value||(l.comboboxState.value===0?l.closeCombobox():(u.preventDefault(),l.openCombobox()),ue(()=>{var p;return(p=k(l.inputRef))==null?void 0:p.focus({preventScroll:!0})}))}function s(u){switch(u.key){case U.ArrowDown:u.preventDefault(),u.stopPropagation(),l.comboboxState.value===1&&l.openCombobox(),ue(()=>{var p;return(p=l.inputRef.value)==null?void 0:p.focus({preventScroll:!0})});return;case U.ArrowUp:u.preventDefault(),u.stopPropagation(),l.comboboxState.value===1&&(l.openCombobox(),ue(()=>{l.value.value||l.goToOption(L.Last)})),ue(()=>{var p;return(p=l.inputRef.value)==null?void 0:p.focus({preventScroll:!0})});return;case U.Escape:if(l.comboboxState.value!==0)return;u.preventDefault(),l.optionsRef.value&&!l.optionsPropsRef.value.static&&u.stopPropagation(),l.closeCombobox(),ue(()=>{var p;return(p=l.inputRef.value)==null?void 0:p.focus({preventScroll:!0})});return}}let d=ca(A(()=>({as:e.as,type:n.type})),l.buttonRef);return()=>{var u,p;let x={open:l.comboboxState.value===0,disabled:l.disabled.value,value:l.value.value},{...b}=e,m={ref:l.buttonRef,id:r,type:d.value,tabindex:"-1","aria-haspopup":"listbox","aria-controls":(u=k(l.optionsRef))==null?void 0:u.id,"aria-expanded":l.comboboxState.value===0,"aria-labelledby":l.labelRef.value?[(p=k(l.labelRef))==null?void 0:p.id,r].join(" "):void 0,disabled:l.disabled.value===!0?!0:void 0,onKeydown:s,onClick:i};return je({ourProps:m,theirProps:b,slot:x,attrs:n,slots:t,name:"ComboboxButton"})}}}),Sa=pe({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:null}},emits:{change:e=>!0},setup(e,{emit:n,attrs:t,slots:o,expose:a}){var r;let l=(r=e.id)!=null?r:`headlessui-combobox-input-${Je()}`,i=we("ComboboxInput"),s=A(()=>Jt(k(i.inputRef))),d={value:!1};a({el:i.inputRef,$el:i.inputRef});function u(){i.change(null);let f=k(i.optionsRef);f&&(f.scrollTop=0),i.goToOption(L.Nothing)}let p=A(()=>{var f;let y=i.value.value;return k(i.inputRef)?typeof e.displayValue<"u"&&y!==void 0?(f=e.displayValue(y))!=null?f:"":typeof y=="string"?y:"":""});ze(()=>{ae([p,i.comboboxState,s],([f,y],[R,v])=>{if(d.value)return;let T=k(i.inputRef);T&&((v===0&&y===1||f!==R)&&(T.value=f),requestAnimationFrame(()=>{var c;if(d.value||!T||((c=s.value)==null?void 0:c.activeElement)!==T)return;let{selectionStart:h,selectionEnd:C}=T;Math.abs((C??0)-(h??0))===0&&h===0&&T.setSelectionRange(T.value.length,T.value.length)}))},{immediate:!0}),ae([i.comboboxState],([f],[y])=>{if(f===0&&y===1){if(d.value)return;let R=k(i.inputRef);if(!R)return;let v=R.value,{selectionStart:T,selectionEnd:c,selectionDirection:h}=R;R.value="",R.value=v,h!==null?R.setSelectionRange(T,c,h):R.setSelectionRange(T,c)}})});let x=j(!1);function b(){x.value=!0}function m(){it().nextFrame(()=>{x.value=!1})}let I=da();function w(f){switch(d.value=!0,I(()=>{d.value=!1}),f.key){case U.Enter:if(d.value=!1,i.comboboxState.value!==0||x.value)return;if(f.preventDefault(),f.stopPropagation(),i.activeOptionIndex.value===null){i.closeCombobox();return}i.selectActiveOption(),i.mode.value===0&&i.closeCombobox();break;case U.ArrowDown:return d.value=!1,f.preventDefault(),f.stopPropagation(),be(i.comboboxState.value,{0:()=>i.goToOption(L.Next),1:()=>i.openCombobox()});case U.ArrowUp:return d.value=!1,f.preventDefault(),f.stopPropagation(),be(i.comboboxState.value,{0:()=>i.goToOption(L.Previous),1:()=>{i.openCombobox(),ue(()=>{i.value.value||i.goToOption(L.Last)})}});case U.Home:if(f.shiftKey)break;return d.value=!1,f.preventDefault(),f.stopPropagation(),i.goToOption(L.First);case U.PageUp:return d.value=!1,f.preventDefault(),f.stopPropagation(),i.goToOption(L.First);case U.End:if(f.shiftKey)break;return d.value=!1,f.preventDefault(),f.stopPropagation(),i.goToOption(L.Last);case U.PageDown:return d.value=!1,f.preventDefault(),f.stopPropagation(),i.goToOption(L.Last);case U.Escape:if(d.value=!1,i.comboboxState.value!==0)return;f.preventDefault(),i.optionsRef.value&&!i.optionsPropsRef.value.static&&f.stopPropagation(),i.nullable.value&&i.mode.value===0&&i.value.value===null&&u(),i.closeCombobox();break;case U.Tab:if(d.value=!1,i.comboboxState.value!==0)return;i.mode.value===0&&i.activationTrigger.value!==1&&i.selectActiveOption(),i.closeCombobox();break}}function O(f){n("change",f),i.nullable.value&&i.mode.value===0&&f.target.value===""&&u(),i.openCombobox()}function g(f){var y,R,v;let T=(y=f.relatedTarget)!=null?y:Pt.find(c=>c!==f.currentTarget);if(d.value=!1,!((R=k(i.optionsRef))!=null&&R.contains(T))&&!((v=k(i.buttonRef))!=null&&v.contains(T))&&i.comboboxState.value===0)return f.preventDefault(),i.mode.value===0&&(i.nullable.value&&i.value.value===null?u():i.activationTrigger.value!==1&&i.selectActiveOption()),i.closeCombobox()}function S(f){var y,R,v;let T=(y=f.relatedTarget)!=null?y:Pt.find(c=>c!==f.currentTarget);(R=k(i.buttonRef))!=null&&R.contains(T)||(v=k(i.optionsRef))!=null&&v.contains(T)||i.disabled.value||i.immediate.value&&i.comboboxState.value!==0&&(i.openCombobox(),it().nextFrame(()=>{i.setActivationTrigger(1)}))}let M=A(()=>{var f,y,R,v;return(v=(R=(y=e.defaultValue)!=null?y:i.defaultValue.value!==void 0?(f=e.displayValue)==null?void 0:f.call(e,i.defaultValue.value):null)!=null?R:i.defaultValue.value)!=null?v:""});return()=>{var f,y,R,v,T,c,h;let C={open:i.comboboxState.value===0},{displayValue:E,onChange:P,...$}=e,B={"aria-controls":(f=i.optionsRef.value)==null?void 0:f.id,"aria-expanded":i.comboboxState.value===0,"aria-activedescendant":i.activeOptionIndex.value===null?void 0:i.virtual.value?(y=i.options.value.find(z=>!i.virtual.value.disabled(z.dataRef.value)&&i.compare(z.dataRef.value,i.virtual.value.options[i.activeOptionIndex.value])))==null?void 0:y.id:(R=i.options.value[i.activeOptionIndex.value])==null?void 0:R.id,"aria-labelledby":(c=(v=k(i.labelRef))==null?void 0:v.id)!=null?c:(T=k(i.buttonRef))==null?void 0:T.id,"aria-autocomplete":"list",id:l,onCompositionstart:b,onCompositionend:m,onKeydown:w,onInput:O,onFocus:S,onBlur:g,role:"combobox",type:(h=t.type)!=null?h:"text",tabIndex:0,ref:i.inputRef,defaultValue:M.value,disabled:i.disabled.value===!0?!0:void 0};return je({ourProps:B,theirProps:$,slot:C,attrs:t,slots:o,features:Ye.RenderStrategy|Ye.Static,name:"ComboboxInput"})}}}),Ia=pe({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(e,{attrs:n,slots:t,expose:o}){let a=we("ComboboxOptions"),r=`headlessui-combobox-options-${Je()}`;o({el:a.optionsRef,$el:a.optionsRef}),fe(()=>{a.optionsPropsRef.value.static=e.static}),fe(()=>{a.optionsPropsRef.value.hold=e.hold});let l=qn(),i=A(()=>l!==null?(l.value&Xe.Open)===Xe.Open:a.comboboxState.value===0);va({container:A(()=>k(a.optionsRef)),enabled:A(()=>a.comboboxState.value===0),accept(d){return d.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:d.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(d){d.setAttribute("role","none")}});function s(d){d.preventDefault()}return()=>{var d,u,p;let x={open:a.comboboxState.value===0},b={"aria-labelledby":(p=(d=k(a.labelRef))==null?void 0:d.id)!=null?p:(u=k(a.buttonRef))==null?void 0:u.id,id:r,ref:a.optionsRef,role:"listbox","aria-multiselectable":a.mode.value===1?!0:void 0,onMousedown:s},m=st(e,["hold"]);return je({ourProps:b,theirProps:m,slot:x,attrs:n,slots:a.virtual.value&&a.comboboxState.value===0?{...t,default:()=>[Ke(xa,{},t.default)]}:t,features:Ye.RenderStrategy|Ye.Static,visible:i.value,name:"ComboboxOptions"})}}}),Ca=pe({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},order:{type:[Number],default:null}},setup(e,{slots:n,attrs:t,expose:o}){let a=we("ComboboxOption"),r=`headlessui-combobox-option-${Je()}`,l=j(null),i=A(()=>e.disabled);o({el:l,$el:l});let s=A(()=>{var g;return a.virtual.value?a.activeOptionIndex.value===a.calculateIndex(e.value):a.activeOptionIndex.value===null?!1:((g=a.options.value[a.activeOptionIndex.value])==null?void 0:g.id)===r}),d=A(()=>a.isSelected(e.value)),u=Kt(an,null),p=A(()=>({disabled:e.disabled,value:e.value,domRef:l,order:A(()=>e.order)}));ze(()=>a.registerOption(r,p)),Ht(()=>a.unregisterOption(r,s.value)),fe(()=>{let g=k(l);g&&(u==null||u.value.measureElement(g))}),fe(()=>{a.comboboxState.value===0&&s.value&&(a.virtual.value||a.activationTrigger.value!==0&&ue(()=>{var g,S;return(S=(g=k(l))==null?void 0:g.scrollIntoView)==null?void 0:S.call(g,{block:"nearest"})}))});function x(g){g.preventDefault(),g.button===Zt.Left&&(i.value||(a.selectOption(r),Kn()||requestAnimationFrame(()=>{var S;return(S=k(a.inputRef))==null?void 0:S.focus({preventScroll:!0})}),a.mode.value===0&&a.closeCombobox()))}function b(){var g;if(e.disabled||(g=a.virtual.value)!=null&&g.disabled(e.value))return a.goToOption(L.Nothing);let S=a.calculateIndex(e.value);a.goToOption(L.Specific,S)}let m=fa();function I(g){m.update(g)}function w(g){var S;if(!m.wasMoved(g)||e.disabled||(S=a.virtual.value)!=null&&S.disabled(e.value)||s.value)return;let M=a.calculateIndex(e.value);a.goToOption(L.Specific,M,0)}function O(g){var S;m.wasMoved(g)&&(e.disabled||(S=a.virtual.value)!=null&&S.disabled(e.value)||s.value&&(a.optionsPropsRef.value.hold||a.goToOption(L.Nothing)))}return()=>{let{disabled:g}=e,S={active:s.value,selected:d.value,disabled:g},M={id:r,ref:l,role:"option",tabIndex:g===!0?void 0:-1,"aria-disabled":g===!0?!0:void 0,"aria-selected":d.value,disabled:void 0,onMousedown:x,onFocus:b,onPointerenter:I,onMouseenter:I,onPointermove:w,onMousemove:w,onPointerleave:O,onMouseleave:O},f=st(e,["order","value"]);return je({ourProps:M,theirProps:f,slot:S,attrs:t,slots:n,name:"ComboboxOption"})}}});function q(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var n=e.ownerDocument;return n&&n.defaultView||window}return e}function ve(e){var n=q(e).Element;return e instanceof n||e instanceof Element}function K(e){var n=q(e).HTMLElement;return e instanceof n||e instanceof HTMLElement}function ut(e){if(typeof ShadowRoot>"u")return!1;var n=q(e).ShadowRoot;return e instanceof n||e instanceof ShadowRoot}var ce=Math.max,Ge=Math.min,ge=Math.round;function rt(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function on(){return!/^((?!chrome|android).)*safari/i.test(rt())}function ye(e,n,t){n===void 0&&(n=!1),t===void 0&&(t=!1);var o=e.getBoundingClientRect(),a=1,r=1;n&&K(e)&&(a=e.offsetWidth>0&&ge(o.width)/e.offsetWidth||1,r=e.offsetHeight>0&&ge(o.height)/e.offsetHeight||1);var l=ve(e)?q(e):window,i=l.visualViewport,s=!on()&&t,d=(o.left+(s&&i?i.offsetLeft:0))/a,u=(o.top+(s&&i?i.offsetTop:0))/r,p=o.width/a,x=o.height/r;return{width:p,height:x,top:u,right:d+p,bottom:u+x,left:d,x:d,y:u}}function dt(e){var n=q(e),t=n.pageXOffset,o=n.pageYOffset;return{scrollLeft:t,scrollTop:o}}function Ea(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Ma(e){return e===q(e)||!K(e)?dt(e):Ea(e)}function J(e){return e?(e.nodeName||"").toLowerCase():null}function oe(e){return((ve(e)?e.ownerDocument:e.document)||window.document).documentElement}function ct(e){return ye(oe(e)).left+dt(e).scrollLeft}function _(e){return q(e).getComputedStyle(e)}function ft(e){var n=_(e),t=n.overflow,o=n.overflowX,a=n.overflowY;return/auto|scroll|overlay|hidden/.test(t+a+o)}function Ra(e){var n=e.getBoundingClientRect(),t=ge(n.width)/e.offsetWidth||1,o=ge(n.height)/e.offsetHeight||1;return t!==1||o!==1}function Ta(e,n,t){t===void 0&&(t=!1);var o=K(n),a=K(n)&&Ra(n),r=oe(n),l=ye(e,a,t),i={scrollLeft:0,scrollTop:0},s={x:0,y:0};return(o||!o&&!t)&&((J(n)!=="body"||ft(r))&&(i=Ma(n)),K(n)?(s=ye(n,!0),s.x+=n.clientLeft,s.y+=n.clientTop):r&&(s.x=ct(r))),{x:l.left+i.scrollLeft-s.x,y:l.top+i.scrollTop-s.y,width:l.width,height:l.height}}function vt(e){var n=ye(e),t=e.offsetWidth,o=e.offsetHeight;return Math.abs(n.width-t)<=1&&(t=n.width),Math.abs(n.height-o)<=1&&(o=n.height),{x:e.offsetLeft,y:e.offsetTop,width:t,height:o}}function Qe(e){return J(e)==="html"?e:e.assignedSlot||e.parentNode||(ut(e)?e.host:null)||oe(e)}function rn(e){return["html","body","#document"].indexOf(J(e))>=0?e.ownerDocument.body:K(e)&&ft(e)?e:rn(Qe(e))}function De(e,n){var t;n===void 0&&(n=[]);var o=rn(e),a=o===((t=e.ownerDocument)==null?void 0:t.body),r=q(o),l=a?[r].concat(r.visualViewport||[],ft(o)?o:[]):o,i=n.concat(l);return a?i:i.concat(De(Qe(l)))}function Aa(e){return["table","td","th"].indexOf(J(e))>=0}function zt(e){return!K(e)||_(e).position==="fixed"?null:e.offsetParent}function Pa(e){var n=/firefox/i.test(rt()),t=/Trident/i.test(rt());if(t&&K(e)){var o=_(e);if(o.position==="fixed")return null}var a=Qe(e);for(ut(a)&&(a=a.host);K(a)&&["html","body"].indexOf(J(a))<0;){var r=_(a);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||n&&r.willChange==="filter"||n&&r.filter&&r.filter!=="none")return a;a=a.parentNode}return null}function Ve(e){for(var n=q(e),t=zt(e);t&&Aa(t)&&_(t).position==="static";)t=zt(t);return t&&(J(t)==="html"||J(t)==="body"&&_(t).position==="static")?n:t||Pa(e)||n}var W="top",X="bottom",Y="right",H="left",pt="auto",Fe=[W,X,Y,H],xe="start",Be="end",$a="clippingParents",ln="viewport",$e="popper",Da="reference",jt=Fe.reduce(function(e,n){return e.concat([n+"-"+xe,n+"-"+Be])},[]),sn=[].concat(Fe,[pt]).reduce(function(e,n){return e.concat([n,n+"-"+xe,n+"-"+Be])},[]),ka="beforeRead",Ba="read",za="afterRead",ja="beforeMain",Va="main",Fa="afterMain",La="beforeWrite",Na="write",Wa="afterWrite",Ha=[ka,Ba,za,ja,Va,Fa,La,Na,Wa];function qa(e){var n=new Map,t=new Set,o=[];e.forEach(function(r){n.set(r.name,r)});function a(r){t.add(r.name);var l=[].concat(r.requires||[],r.requiresIfExists||[]);l.forEach(function(i){if(!t.has(i)){var s=n.get(i);s&&a(s)}}),o.push(r)}return e.forEach(function(r){t.has(r.name)||a(r)}),o}function Ua(e){var n=qa(e);return Ha.reduce(function(t,o){return t.concat(n.filter(function(a){return a.phase===o}))},[])}function Ka(e){var n;return function(){return n||(n=new Promise(function(t){Promise.resolve().then(function(){n=void 0,t(e())})})),n}}function Xa(e){var n=e.reduce(function(t,o){var a=t[o.name];return t[o.name]=a?Object.assign({},a,o,{options:Object.assign({},a.options,o.options),data:Object.assign({},a.data,o.data)}):o,t},{});return Object.keys(n).map(function(t){return n[t]})}function Ya(e,n){var t=q(e),o=oe(e),a=t.visualViewport,r=o.clientWidth,l=o.clientHeight,i=0,s=0;if(a){r=a.width,l=a.height;var d=on();(d||!d&&n==="fixed")&&(i=a.offsetLeft,s=a.offsetTop)}return{width:r,height:l,x:i+ct(e),y:s}}function Ga(e){var n,t=oe(e),o=dt(e),a=(n=e.ownerDocument)==null?void 0:n.body,r=ce(t.scrollWidth,t.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),l=ce(t.scrollHeight,t.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),i=-o.scrollLeft+ct(e),s=-o.scrollTop;return _(a||t).direction==="rtl"&&(i+=ce(t.clientWidth,a?a.clientWidth:0)-r),{width:r,height:l,x:i,y:s}}function un(e,n){var t=n.getRootNode&&n.getRootNode();if(e.contains(n))return!0;if(t&&ut(t)){var o=n;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function lt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Ja(e,n){var t=ye(e,!1,n==="fixed");return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function Vt(e,n,t){return n===ln?lt(Ya(e,t)):ve(n)?Ja(n,t):lt(Ga(oe(e)))}function Qa(e){var n=De(Qe(e)),t=["absolute","fixed"].indexOf(_(e).position)>=0,o=t&&K(e)?Ve(e):e;return ve(o)?n.filter(function(a){return ve(a)&&un(a,o)&&J(a)!=="body"}):[]}function Za(e,n,t,o){var a=n==="clippingParents"?Qa(e):[].concat(n),r=[].concat(a,[t]),l=r[0],i=r.reduce(function(s,d){var u=Vt(e,d,o);return s.top=ce(u.top,s.top),s.right=Ge(u.right,s.right),s.bottom=Ge(u.bottom,s.bottom),s.left=ce(u.left,s.left),s},Vt(e,l,o));return i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}function G(e){return e.split("-")[0]}function Oe(e){return e.split("-")[1]}function mt(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function dn(e){var n=e.reference,t=e.element,o=e.placement,a=o?G(o):null,r=o?Oe(o):null,l=n.x+n.width/2-t.width/2,i=n.y+n.height/2-t.height/2,s;switch(a){case W:s={x:l,y:n.y-t.height};break;case X:s={x:l,y:n.y+n.height};break;case Y:s={x:n.x+n.width,y:i};break;case H:s={x:n.x-t.width,y:i};break;default:s={x:n.x,y:n.y}}var d=a?mt(a):null;if(d!=null){var u=d==="y"?"height":"width";switch(r){case xe:s[d]=s[d]-(n[u]/2-t[u]/2);break;case Be:s[d]=s[d]+(n[u]/2-t[u]/2);break}}return s}function cn(){return{top:0,right:0,bottom:0,left:0}}function fn(e){return Object.assign({},cn(),e)}function vn(e,n){return n.reduce(function(t,o){return t[o]=e,t},{})}function ht(e,n){n===void 0&&(n={});var t=n,o=t.placement,a=o===void 0?e.placement:o,r=t.strategy,l=r===void 0?e.strategy:r,i=t.boundary,s=i===void 0?$a:i,d=t.rootBoundary,u=d===void 0?ln:d,p=t.elementContext,x=p===void 0?$e:p,b=t.altBoundary,m=b===void 0?!1:b,I=t.padding,w=I===void 0?0:I,O=fn(typeof w!="number"?w:vn(w,Fe)),g=x===$e?Da:$e,S=e.rects.popper,M=e.elements[m?g:x],f=Za(ve(M)?M:M.contextElement||oe(e.elements.popper),s,u,l),y=ye(e.elements.reference),R=dn({reference:y,element:S,strategy:"absolute",placement:a}),v=lt(Object.assign({},S,R)),T=x===$e?v:y,c={top:f.top-T.top+O.top,bottom:T.bottom-f.bottom+O.bottom,left:f.left-T.left+O.left,right:T.right-f.right+O.right},h=e.modifiersData.offset;if(x===$e&&h){var C=h[a];Object.keys(c).forEach(function(E){var P=[Y,X].indexOf(E)>=0?1:-1,$=[W,X].indexOf(E)>=0?"y":"x";c[E]+=C[$]*P})}return c}var Ft={placement:"bottom",modifiers:[],strategy:"absolute"};function Lt(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return!n.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function _a(e){e===void 0&&(e={});var n=e,t=n.defaultModifiers,o=t===void 0?[]:t,a=n.defaultOptions,r=a===void 0?Ft:a;return function(i,s,d){d===void 0&&(d=r);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ft,r),modifiersData:{},elements:{reference:i,popper:s},attributes:{},styles:{}},p=[],x=!1,b={state:u,setOptions:function(O){var g=typeof O=="function"?O(u.options):O;I(),u.options=Object.assign({},r,u.options,g),u.scrollParents={reference:ve(i)?De(i):i.contextElement?De(i.contextElement):[],popper:De(s)};var S=Ua(Xa([].concat(o,u.options.modifiers)));return u.orderedModifiers=S.filter(function(M){return M.enabled}),m(),b.update()},forceUpdate:function(){if(!x){var O=u.elements,g=O.reference,S=O.popper;if(Lt(g,S)){u.rects={reference:Ta(g,Ve(S),u.options.strategy==="fixed"),popper:vt(S)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(c){return u.modifiersData[c.name]=Object.assign({},c.data)});for(var M=0;M<u.orderedModifiers.length;M++){if(u.reset===!0){u.reset=!1,M=-1;continue}var f=u.orderedModifiers[M],y=f.fn,R=f.options,v=R===void 0?{}:R,T=f.name;typeof y=="function"&&(u=y({state:u,options:v,name:T,instance:b})||u)}}}},update:Ka(function(){return new Promise(function(w){b.forceUpdate(),w(u)})}),destroy:function(){I(),x=!0}};if(!Lt(i,s))return b;b.setOptions(d).then(function(w){!x&&d.onFirstUpdate&&d.onFirstUpdate(w)});function m(){u.orderedModifiers.forEach(function(w){var O=w.name,g=w.options,S=g===void 0?{}:g,M=w.effect;if(typeof M=="function"){var f=M({state:u,name:O,instance:b,options:S}),y=function(){};p.push(f||y)}})}function I(){p.forEach(function(w){return w()}),p=[]}return b}}var He={passive:!0};function eo(e){var n=e.state,t=e.instance,o=e.options,a=o.scroll,r=a===void 0?!0:a,l=o.resize,i=l===void 0?!0:l,s=q(n.elements.popper),d=[].concat(n.scrollParents.reference,n.scrollParents.popper);return r&&d.forEach(function(u){u.addEventListener("scroll",t.update,He)}),i&&s.addEventListener("resize",t.update,He),function(){r&&d.forEach(function(u){u.removeEventListener("scroll",t.update,He)}),i&&s.removeEventListener("resize",t.update,He)}}const pn={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:eo,data:{}};function to(e){var n=e.state,t=e.name;n.modifiersData[t]=dn({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})}const no={name:"popperOffsets",enabled:!0,phase:"read",fn:to,data:{}};var ao={top:"auto",right:"auto",bottom:"auto",left:"auto"};function oo(e,n){var t=e.x,o=e.y,a=n.devicePixelRatio||1;return{x:ge(t*a)/a||0,y:ge(o*a)/a||0}}function Nt(e){var n,t=e.popper,o=e.popperRect,a=e.placement,r=e.variation,l=e.offsets,i=e.position,s=e.gpuAcceleration,d=e.adaptive,u=e.roundOffsets,p=e.isFixed,x=l.x,b=x===void 0?0:x,m=l.y,I=m===void 0?0:m,w=typeof u=="function"?u({x:b,y:I}):{x:b,y:I};b=w.x,I=w.y;var O=l.hasOwnProperty("x"),g=l.hasOwnProperty("y"),S=H,M=W,f=window;if(d){var y=Ve(t),R="clientHeight",v="clientWidth";if(y===q(t)&&(y=oe(t),_(y).position!=="static"&&i==="absolute"&&(R="scrollHeight",v="scrollWidth")),y=y,a===W||(a===H||a===Y)&&r===Be){M=X;var T=p&&y===f&&f.visualViewport?f.visualViewport.height:y[R];I-=T-o.height,I*=s?1:-1}if(a===H||(a===W||a===X)&&r===Be){S=Y;var c=p&&y===f&&f.visualViewport?f.visualViewport.width:y[v];b-=c-o.width,b*=s?1:-1}}var h=Object.assign({position:i},d&&ao),C=u===!0?oo({x:b,y:I},q(t)):{x:b,y:I};if(b=C.x,I=C.y,s){var E;return Object.assign({},h,(E={},E[M]=g?"0":"",E[S]=O?"0":"",E.transform=(f.devicePixelRatio||1)<=1?"translate("+b+"px, "+I+"px)":"translate3d("+b+"px, "+I+"px, 0)",E))}return Object.assign({},h,(n={},n[M]=g?I+"px":"",n[S]=O?b+"px":"",n.transform="",n))}function io(e){var n=e.state,t=e.options,o=t.gpuAcceleration,a=o===void 0?!0:o,r=t.adaptive,l=r===void 0?!0:r,i=t.roundOffsets,s=i===void 0?!0:i,d={placement:G(n.placement),variation:Oe(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:a,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,Nt(Object.assign({},d,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:l,roundOffsets:s})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,Nt(Object.assign({},d,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}const mn={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:io,data:{}};function ro(e){var n=e.state;Object.keys(n.elements).forEach(function(t){var o=n.styles[t]||{},a=n.attributes[t]||{},r=n.elements[t];!K(r)||!J(r)||(Object.assign(r.style,o),Object.keys(a).forEach(function(l){var i=a[l];i===!1?r.removeAttribute(l):r.setAttribute(l,i===!0?"":i)}))})}function lo(e){var n=e.state,t={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,t.popper),n.styles=t,n.elements.arrow&&Object.assign(n.elements.arrow.style,t.arrow),function(){Object.keys(n.elements).forEach(function(o){var a=n.elements[o],r=n.attributes[o]||{},l=Object.keys(n.styles.hasOwnProperty(o)?n.styles[o]:t[o]),i=l.reduce(function(s,d){return s[d]="",s},{});!K(a)||!J(a)||(Object.assign(a.style,i),Object.keys(r).forEach(function(s){a.removeAttribute(s)}))})}}const so={name:"applyStyles",enabled:!0,phase:"write",fn:ro,effect:lo,requires:["computeStyles"]};var uo=[pn,no,mn,so],co={left:"right",right:"left",bottom:"top",top:"bottom"};function Ue(e){return e.replace(/left|right|bottom|top/g,function(n){return co[n]})}var fo={start:"end",end:"start"};function Wt(e){return e.replace(/start|end/g,function(n){return fo[n]})}function vo(e,n){n===void 0&&(n={});var t=n,o=t.placement,a=t.boundary,r=t.rootBoundary,l=t.padding,i=t.flipVariations,s=t.allowedAutoPlacements,d=s===void 0?sn:s,u=Oe(o),p=u?i?jt:jt.filter(function(m){return Oe(m)===u}):Fe,x=p.filter(function(m){return d.indexOf(m)>=0});x.length===0&&(x=p);var b=x.reduce(function(m,I){return m[I]=ht(e,{placement:I,boundary:a,rootBoundary:r,padding:l})[G(I)],m},{});return Object.keys(b).sort(function(m,I){return b[m]-b[I]})}function po(e){if(G(e)===pt)return[];var n=Ue(e);return[Wt(e),n,Wt(n)]}function mo(e){var n=e.state,t=e.options,o=e.name;if(!n.modifiersData[o]._skip){for(var a=t.mainAxis,r=a===void 0?!0:a,l=t.altAxis,i=l===void 0?!0:l,s=t.fallbackPlacements,d=t.padding,u=t.boundary,p=t.rootBoundary,x=t.altBoundary,b=t.flipVariations,m=b===void 0?!0:b,I=t.allowedAutoPlacements,w=n.options.placement,O=G(w),g=O===w,S=s||(g||!m?[Ue(w)]:po(w)),M=[w].concat(S).reduce(function(me,ee){return me.concat(G(ee)===pt?vo(n,{placement:ee,boundary:u,rootBoundary:p,padding:d,flipVariations:m,allowedAutoPlacements:I}):ee)},[]),f=n.rects.reference,y=n.rects.popper,R=new Map,v=!0,T=M[0],c=0;c<M.length;c++){var h=M[c],C=G(h),E=Oe(h)===xe,P=[W,X].indexOf(C)>=0,$=P?"width":"height",B=ht(n,{placement:h,boundary:u,rootBoundary:p,altBoundary:x,padding:d}),z=P?E?Y:H:E?X:W;f[$]>y[$]&&(z=Ue(z));var D=Ue(z),V=[];if(r&&V.push(B[C]<=0),i&&V.push(B[z]<=0,B[D]<=0),V.every(function(me){return me})){T=h,v=!1;break}R.set(h,V)}if(v)for(var Q=m?3:1,ie=function(ee){var Ie=M.find(function(Ne){var re=R.get(Ne);if(re)return re.slice(0,ee).every(function(Ze){return Ze})});if(Ie)return T=Ie,"break"},Se=Q;Se>0;Se--){var Le=ie(Se);if(Le==="break")break}n.placement!==T&&(n.modifiersData[o]._skip=!0,n.placement=T,n.reset=!0)}}const ho={name:"flip",enabled:!0,phase:"main",fn:mo,requiresIfExists:["offset"],data:{_skip:!1}};function bo(e,n,t){var o=G(e),a=[H,W].indexOf(o)>=0?-1:1,r=typeof t=="function"?t(Object.assign({},n,{placement:e})):t,l=r[0],i=r[1];return l=l||0,i=(i||0)*a,[H,Y].indexOf(o)>=0?{x:i,y:l}:{x:l,y:i}}function go(e){var n=e.state,t=e.options,o=e.name,a=t.offset,r=a===void 0?[0,0]:a,l=sn.reduce(function(u,p){return u[p]=bo(p,n.rects,r),u},{}),i=l[n.placement],s=i.x,d=i.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=s,n.modifiersData.popperOffsets.y+=d),n.modifiersData[o]=l}const yo={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:go};function xo(e){return e==="x"?"y":"x"}function ke(e,n,t){return ce(e,Ge(n,t))}function Oo(e,n,t){var o=ke(e,n,t);return o>t?t:o}function wo(e){var n=e.state,t=e.options,o=e.name,a=t.mainAxis,r=a===void 0?!0:a,l=t.altAxis,i=l===void 0?!1:l,s=t.boundary,d=t.rootBoundary,u=t.altBoundary,p=t.padding,x=t.tether,b=x===void 0?!0:x,m=t.tetherOffset,I=m===void 0?0:m,w=ht(n,{boundary:s,rootBoundary:d,padding:p,altBoundary:u}),O=G(n.placement),g=Oe(n.placement),S=!g,M=mt(O),f=xo(M),y=n.modifiersData.popperOffsets,R=n.rects.reference,v=n.rects.popper,T=typeof I=="function"?I(Object.assign({},n.rects,{placement:n.placement})):I,c=typeof T=="number"?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),h=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,C={x:0,y:0};if(y){if(r){var E,P=M==="y"?W:H,$=M==="y"?X:Y,B=M==="y"?"height":"width",z=y[M],D=z+w[P],V=z-w[$],Q=b?-v[B]/2:0,ie=g===xe?R[B]:v[B],Se=g===xe?-v[B]:-R[B],Le=n.elements.arrow,me=b&&Le?vt(Le):{width:0,height:0},ee=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:cn(),Ie=ee[P],Ne=ee[$],re=ke(0,R[B],me[B]),Ze=S?R[B]/2-Q-re-Ie-c.mainAxis:ie-re-Ie-c.mainAxis,hn=S?-R[B]/2+Q+re+Ne+c.mainAxis:Se+re+Ne+c.mainAxis,_e=n.elements.arrow&&Ve(n.elements.arrow),bn=_e?M==="y"?_e.clientTop||0:_e.clientLeft||0:0,bt=(E=h==null?void 0:h[M])!=null?E:0,gn=z+Ze-bt-bn,yn=z+hn-bt,gt=ke(b?Ge(D,gn):D,z,b?ce(V,yn):V);y[M]=gt,C[M]=gt-z}if(i){var yt,xn=M==="x"?W:H,On=M==="x"?X:Y,le=y[f],We=f==="y"?"height":"width",xt=le+w[xn],Ot=le-w[On],et=[W,H].indexOf(O)!==-1,wt=(yt=h==null?void 0:h[f])!=null?yt:0,St=et?xt:le-R[We]-v[We]-wt+c.altAxis,It=et?le+R[We]+v[We]-wt-c.altAxis:Ot,Ct=b&&et?Oo(St,le,It):ke(b?St:xt,le,b?It:Ot);y[f]=Ct,C[f]=Ct-le}n.modifiersData[o]=C}}const So={name:"preventOverflow",enabled:!0,phase:"main",fn:wo,requiresIfExists:["offset"]};var Io=function(n,t){return n=typeof n=="function"?n(Object.assign({},t.rects,{placement:t.placement})):n,fn(typeof n!="number"?n:vn(n,Fe))};function Co(e){var n,t=e.state,o=e.name,a=e.options,r=t.elements.arrow,l=t.modifiersData.popperOffsets,i=G(t.placement),s=mt(i),d=[H,Y].indexOf(i)>=0,u=d?"height":"width";if(!(!r||!l)){var p=Io(a.padding,t),x=vt(r),b=s==="y"?W:H,m=s==="y"?X:Y,I=t.rects.reference[u]+t.rects.reference[s]-l[s]-t.rects.popper[u],w=l[s]-t.rects.reference[s],O=Ve(r),g=O?s==="y"?O.clientHeight||0:O.clientWidth||0:0,S=I/2-w/2,M=p[b],f=g-x[u]-p[m],y=g/2-x[u]/2+S,R=ke(M,y,f),v=s;t.modifiersData[o]=(n={},n[v]=R,n.centerOffset=R-y,n)}}function Eo(e){var n=e.state,t=e.options,o=t.element,a=o===void 0?"[data-popper-arrow]":o;a!=null&&(typeof a=="string"&&(a=n.elements.popper.querySelector(a),!a)||un(n.elements.popper,a)&&(n.elements.arrow=a))}const Mo={name:"arrow",enabled:!0,phase:"main",fn:Co,effect:Eo,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},Ro=_a({defaultModifiers:[...uo,yo,ho,So,mn,pn,Mo]});function To({locked:e=!1,overflowPadding:n=8,offsetDistance:t=8,offsetSkid:o=0,gpuAcceleration:a=!0,adaptive:r=!0,scroll:l=!0,resize:i=!0,arrow:s=!1,placement:d,strategy:u},p){const x=j(null),b=j(null),m=j(null);return ze(()=>{fe(I=>{if(!b.value||!x.value&&!(p!=null&&p.value))return;const w=Mt(b),O=Mt(x);if(!(w instanceof HTMLElement)||!O)return;const g={modifiers:[{name:"flip",enabled:!e},{name:"preventOverflow",options:{padding:n}},{name:"offset",options:{offset:[o,t]}},{name:"computeStyles",options:{adaptive:r,gpuAcceleration:a}},{name:"eventListeners",options:{scroll:l,resize:i}},{name:"arrow",enabled:s}]};d&&(g.placement=d),u&&(g.strategy=u),m.value=Ro(O,w,g),I(m.value.destroy)})}),[x,b,m]}const Z=Xt(de.ui.strategy,de.ui.input,zn),ot=Xt(de.ui.strategy,de.ui.inputMenu,jn),Ao=pe({components:{HCombobox:Oa,HComboboxButton:wa,HComboboxOptions:Ia,HComboboxOption:Ca,HComboboxInput:Sa,UIcon:Yt,UAvatar:Gt},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object,Array],default:""},query:{type:String,default:null},by:{type:String,default:void 0},options:{type:Array,default:()=>[]},id:{type:String,default:null},name:{type:String,default:null},required:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>Z.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:()=>ot.default.trailingIcon},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},selectedIcon:{type:String,default:()=>ot.default.selectedIcon},disabled:{type:Boolean,default:!1},nullable:{type:Boolean,default:!1},placeholder:{type:String,default:null},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(Z.size).includes(e)}},color:{type:String,default:()=>Z.default.color,validator(e){return[...de.ui.colors,...Object.keys(Z.color)].includes(e)}},variant:{type:String,default:()=>Z.default.variant,validator(e){return[...Object.keys(Z.variant),...Object.values(Z.color).flatMap(n=>Object.keys(n))].includes(e)}},optionAttribute:{type:String,default:"label"},valueAttribute:{type:String,default:null},search:{type:Function,default:void 0},searchAttributes:{type:Array,default:null},searchLazy:{type:Boolean,default:!1},debounce:{type:Number,default:200},popper:{type:Object,default:()=>({})},inputClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},uiMenu:{type:Object,default:()=>({})}},emits:["update:modelValue","update:query","open","close","change"],setup(e,{emit:n,slots:t}){const{ui:o,attrs:a}=Rt("input",tt(e,"ui"),Z,tt(e,"class")),{ui:r}=Rt("inputMenu",tt(e,"uiMenu"),ot),l=A(()=>Mn({},e.popper,r.value.popper)),[i,s]=To(l.value),{size:d,rounded:u}=Rn({ui:o,props:e}),{emitFormBlur:p,emitFormChange:x,inputId:b,color:m,size:I,name:w}=Yn(e,Z),O=A(()=>d.value||I.value),g=j(""),S=A({get(){return e.query??g.value},set(D){g.value=D,n("update:query",D)}}),M=A(()=>{if(e.modelValue)if(e.valueAttribute){const D=e.options.find(V=>V[e.valueAttribute]===e.modelValue);return D?D[e.optionAttribute]:null}else return["string","number"].includes(typeof e.modelValue)?e.modelValue:e.modelValue[e.optionAttribute]}),f=A(()=>{var V,Q;const D=((Q=(V=o.value.color)==null?void 0:V[m.value])==null?void 0:Q[e.variant])||o.value.variant[e.variant];return Tn(Ce(o.value.base,o.value.form,u.value,o.value.placeholder,o.value.size[O.value],e.padded?o.value.padding[O.value]:"p-0",D==null?void 0:D.replaceAll("{color}",m.value),(y.value||t.leading)&&o.value.leading.padding[O.value],(R.value||t.trailing)&&o.value.trailing.padding[O.value]),e.inputClass)}),y=A(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),R=A(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),v=A(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),T=A(()=>e.loading&&!y.value?e.loadingIcon:e.trailingIcon||e.icon),c=A(()=>Ce(o.value.icon.leading.wrapper,o.value.icon.leading.pointer,o.value.icon.leading.padding[O.value])),h=A(()=>Ce(o.value.icon.base,m.value&&de.ui.colors.includes(m.value)&&o.value.icon.color.replaceAll("{color}",m.value),o.value.icon.size[O.value],e.loading&&o.value.icon.loading)),C=A(()=>Ce(o.value.icon.trailing.wrapper,o.value.icon.trailing.padding[O.value])),E=A(()=>Ce(o.value.icon.base,m.value&&de.ui.colors.includes(m.value)&&o.value.icon.color.replaceAll("{color}",m.value),o.value.icon.size[O.value],e.loading&&!y.value&&o.value.icon.loading)),P=e.search&&typeof e.search=="function"?An(e.search,e.debounce):void 0,$=Pn(async()=>P?await P(S.value):S.value===""?e.options:e.options.filter(D=>{var V;return((V=e.searchAttributes)!=null&&V.length?e.searchAttributes:[e.optionAttribute]).some(Q=>{if(["string","number"].includes(typeof D))return String(D).search(new RegExp(S.value,"i"))!==-1;const ie=$n(D,Q);return ie!=null&&String(ie).search(new RegExp(S.value,"i"))!==-1})}),[],{lazy:e.searchLazy});ae(s,D=>{D?n("open"):(n("close"),p())});function B(D){S.value="",n("update:modelValue",D),n("change",D),x()}function z(D){S.value=D.target.value}return Xn(()=>Vn("$2NLPEfaykI")),{ui:o,uiMenu:r,attrs:a,name:w,inputId:b,popper:l,trigger:i,container:s,label:M,isLeading:y,isTrailing:R,inputClass:f,leadingIconName:v,leadingIconClass:h,leadingWrapperIconClass:c,trailingIconName:T,trailingIconClass:E,trailingWrapperIconClass:C,filteredOptions:$,query:S,onUpdate:B,onQueryChange:z}}}),Po={class:"truncate"};function $o(e,n,t,o,a,r){const l=Ee("HComboboxInput"),i=Yt,s=Ee("HComboboxButton"),d=Gt,u=Ee("HComboboxOption"),p=Ee("HComboboxOptions"),x=Ee("HCombobox");return N(),Me(x,{by:e.by,name:e.name,"model-value":e.modelValue,disabled:e.disabled,nullable:e.nullable,as:"div",class:F(e.ui.wrapper),"onUpdate:modelValue":e.onUpdate},{default:Re(({open:b})=>[Te("div",{class:F(e.uiMenu.trigger)},[he(l,nt({id:e.inputId,name:e.name,required:e.required,placeholder:e.placeholder,disabled:e.disabled,class:e.inputClass,autocomplete:"off"},e.attrs,{"display-value":()=>e.query?e.query:e.label,onChange:e.onQueryChange}),null,16,["id","name","required","placeholder","disabled","class","display-value","onChange"]),e.isLeading&&e.leadingIconName||e.$slots.leading?(N(),ne("span",{key:0,class:F(e.leadingWrapperIconClass)},[Ae(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[he(i,{name:e.leadingIconName,class:F(e.leadingIconClass)},null,8,["name","class"])])],2)):se("",!0),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(N(),Me(s,{key:1,ref:"trigger",class:F(e.trailingWrapperIconClass)},{default:Re(()=>[Ae(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[he(i,{name:e.trailingIconName,class:F(e.trailingIconClass)},null,8,["name","class"])])]),_:3},8,["class"])):se("",!0)],2),b?(N(),ne("div",{key:0,ref:"container",class:F([e.uiMenu.container,e.uiMenu.width])},[he(Dn,nt({appear:""},e.uiMenu.transition),{default:Re(()=>[Te("div",null,[e.popper.arrow?(N(),ne("div",{key:0,"data-popper-arrow":"",class:F(Object.values(e.uiMenu.arrow))},null,2)):se("",!0),he(p,{static:"",class:F([e.uiMenu.base,e.uiMenu.ring,e.uiMenu.rounded,e.uiMenu.shadow,e.uiMenu.background,e.uiMenu.padding,e.uiMenu.height])},{default:Re(()=>[(N(!0),ne(Ut,null,kn(e.filteredOptions,(m,I)=>(N(),Me(u,{key:I,as:"template",value:e.valueAttribute?m[e.valueAttribute]:m,disabled:m.disabled},{default:Re(({active:w,selected:O,disabled:g})=>[Te("li",{class:F([e.uiMenu.option.base,e.uiMenu.option.rounded,e.uiMenu.option.padding,e.uiMenu.option.size,e.uiMenu.option.color,w?e.uiMenu.option.active:e.uiMenu.option.inactive,O&&e.uiMenu.option.selected,g&&e.uiMenu.option.disabled])},[Te("div",{class:F(e.uiMenu.option.container)},[Ae(e.$slots,"option",{option:m,active:w,selected:O},()=>[m.icon?(N(),Me(i,{key:0,name:m.icon,class:F([e.uiMenu.option.icon.base,w?e.uiMenu.option.icon.active:e.uiMenu.option.icon.inactive,m.iconClass]),"aria-hidden":"true"},null,8,["name","class"])):m.avatar?(N(),Me(d,nt({key:1,ref_for:!0},{size:e.uiMenu.option.avatar.size,...m.avatar},{class:e.uiMenu.option.avatar.base,"aria-hidden":"true"}),null,16,["class"])):m.chip?(N(),ne("span",{key:2,class:F(e.uiMenu.option.chip.base),style:Bn({background:`#${m.chip}`})},null,6)):se("",!0),Te("span",Po,Tt(["string","number"].includes(typeof m)?m:m[e.optionAttribute]),1)])],2),O?(N(),ne("span",{key:0,class:F([e.uiMenu.option.selectedIcon.wrapper,e.uiMenu.option.selectedIcon.padding])},[he(i,{name:e.selectedIcon,class:F(e.uiMenu.option.selectedIcon.base),"aria-hidden":"true"},null,8,["name","class"])],2)):se("",!0)],2)]),_:2},1032,["value","disabled"]))),128)),e.query&&!e.filteredOptions.length?(N(),ne("p",{key:0,class:F(e.uiMenu.option.empty)},[Ae(e.$slots,"option-empty",{query:e.query},()=>[At(' No results for "'+Tt(e.query)+'". ',1)])],2)):e.filteredOptions.length?se("",!0):(N(),ne("p",{key:1,class:F(e.uiMenu.empty)},[Ae(e.$slots,"empty",{query:e.query},()=>[At(" No options. ")])],2))]),_:3},8,["class"])])]),_:3},16)],2)):se("",!0)]),_:3},8,["by","name","model-value","disabled","nullable","class","onUpdate:modelValue"])}const jo=En(Ao,[["render",$o]]);export{jo as _,fa as a,Ia as b,L as c,sa as d,_t as e,Bt as f,Sa as i,Oa as l,wa as n,Ca as r,ca as s,To as u};
