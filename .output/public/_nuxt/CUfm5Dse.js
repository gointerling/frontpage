import{t as w,e as m,o as g,w as L,h as E}from"./GFnWuFuM.js";import{J as f,r as y,H as h,L as b,I as $}from"./REdEvUJb.js";function A(){let t=[],r={addEventListener(e,n,a,o){return e.addEventListener(n,a,o),r.add(()=>e.removeEventListener(n,a,o))},requestAnimationFrame(...e){let n=requestAnimationFrame(...e);r.add(()=>cancelAnimationFrame(n))},nextFrame(...e){r.requestAnimationFrame(()=>{r.requestAnimationFrame(...e)})},setTimeout(...e){let n=setTimeout(...e);r.add(()=>clearTimeout(n))},microTask(...e){let n={current:!0};return w(()=>{n.current&&e[0]()}),r.add(()=>{n.current=!1})},style(e,n,a){let o=e.style.getPropertyValue(n);return Object.assign(e.style,{[n]:a}),this.add(()=>{Object.assign(e.style,{[n]:o})})},group(e){let n=A();return e(n),this.add(()=>n.dispose())},add(e){return t.push(e),()=>{let n=t.indexOf(e);if(n>=0)for(let a of t.splice(n,1))a()}},dispose(){for(let e of t.splice(0))e()}};return r}function O(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function T(){return/Android/gi.test(window.navigator.userAgent)}function C(){return O()||T()}function c(t,r,e){m.isServer||f(n=>{document.addEventListener(t,r,e),n(()=>document.removeEventListener(t,r,e))})}function F(t,r,e){m.isServer||f(n=>{window.addEventListener(t,r,e),n(()=>window.removeEventListener(t,r,e))})}function k(t,r,e=h(()=>!0)){function n(o,d){if(!e.value||o.defaultPrevented)return;let i=d(o);if(i===null||!i.getRootNode().contains(i))return;let p=function s(u){return typeof u=="function"?s(u()):Array.isArray(u)||u instanceof Set?u:[u]}(t);for(let s of p){if(s===null)continue;let u=s instanceof HTMLElement?s:g(s);if(u!=null&&u.contains(i)||o.composed&&o.composedPath().includes(u))return}return!L(i,E.Loose)&&i.tabIndex!==-1&&o.preventDefault(),r(o,i)}let a=y(null);c("pointerdown",o=>{var d,i;e.value&&(a.value=((i=(d=o.composedPath)==null?void 0:d.call(o))==null?void 0:i[0])||o.target)},!0),c("mousedown",o=>{var d,i;e.value&&(a.value=((i=(d=o.composedPath)==null?void 0:d.call(o))==null?void 0:i[0])||o.target)},!0),c("click",o=>{C()||a.value&&(n(o,()=>a.value),a.value=null)},!0),c("touchend",o=>n(o,()=>o.target instanceof HTMLElement?o.target:null),!0),F("blur",o=>n(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}let v=Symbol("Context");var M=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(M||{});function q(){return P()!==null}function P(){return b(v,null)}function j(t){$(v,t)}function x(t){function r(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",r))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",r),r())}let l=[];x(()=>{function t(r){r.target instanceof HTMLElement&&r.target!==document.body&&l[0]!==r.target&&(l.unshift(r.target),l=l.filter(e=>e!=null&&e.isConnected),l.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});export{O as a,k as b,j as c,M as i,P as l,C as n,A as o,q as s,l as t,F as w};
